<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUNARO | Energia da Atenção na Solana e TON</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;700&family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* Custom CSS for cyberpunk aesthetics */
      :root {
        --neon-blue: #0ff; /* Cyan */
        --neon-purple: #f0f; /* Fuchsia */
        --neon-green: #0f0; /* Lime */
        --dark-bg: #0a0a0a; /* Very dark gray */
        --darker-bg: #050505; /* Even darker */
        --red-alert: #f00; /* Red for warnings */
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--darker-bg);
        color: #e0e0e0; /* Light gray for readability */
        overflow-x: hidden; /* Prevent horizontal scrolling */
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Oxanium", monospace;
        color: var(--neon-blue);
        text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue);
      }

      .neon-text-blue {
        color: var(--neon-blue);
        text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue);
      }
      .neon-text-purple {
        color: var(--neon-purple);
        text-shadow: 0 0 5px var(--neon-purple), 0 0 10px var(--neon-purple);
      }
      .neon-text-green {
        color: var(--neon-green);
        text-shadow: 0 0 5px var(--neon-green), 0 0 10px var(--neon-green);
      }

      .neon-button {
        background-color: var(--neon-blue);
        color: var(--darker-bg);
        font-family: "Oxanium", monospace;
        text-shadow: none;
        box-shadow: 0 0 10px var(--neon-blue);
        transition: all 0.3s ease-in-out;
        border-radius: 0.75rem; /* rounded-xl */
      }
      .neon-button:hover:not(:disabled) {
        background-color: #0ff; /* Brighter cyan */
        box-shadow: 0 0 15px #0ff, 0 0 25px #0ff;
        transform: translateY(-2px);
      }
      .neon-button:disabled {
        background-color: #555;
        box-shadow: none;
        cursor: not-allowed;
        opacity: 0.7;
      }

      .card-bg {
        background-color: var(--dark-bg);
        border: 1px solid rgba(0, 255, 255, 0.2); /* Light neon border */
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.1);
        border-radius: 1rem; /* rounded-2xl */
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; /* Add transition for hover */
      }
      .card-bg:hover {
        transform: translateY(-5px); /* Lift effect */
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.4); /* Stronger glow on hover */
      }

      /* Grid background effect (enhanced with subtle animation) */
      @keyframes moveGrid {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 50px 50px;
        } /* Adjust based on grid-size */
      }

      .grid-background {
        background-image: linear-gradient(
            to right,
            rgba(0, 255, 255, 0.05) 1px,
            transparent 1px
          ),
          linear-gradient(
            to bottom,
            rgba(0, 255, 255, 0.05) 1px,
            transparent 1px
          );
        background-size: 50px 50px;
        background-position: center center;
        animation: moveGrid 15s linear infinite; /* Subtle continuous movement */
      }

      /* Hero Title Glow Animation */
      @keyframes pulseGlow {
        0%,
        100% {
          text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue),
            0 0 15px var(--neon-blue);
        }
        50% {
          text-shadow: 0 0 10px var(--neon-blue), 0 0 20px var(--neon-blue),
            0 0 30px var(--neon-blue);
        }
      }
      .hero-title-glow {
        animation: pulseGlow 3s infinite alternate;
      }

      /* Progress bar custom styling (kept for potential future use or other progress bars) */
      .progress-bar-container {
        background-color: #333;
        border-radius: 9999px; /* Full rounded */
        height: 1.5rem; /* h-6 */
        overflow: hidden;
        border: 1px solid rgba(0, 255, 255, 0.3);
      }
      .progress-bar-fill {
        height: 100%;
        background-color: var(--neon-green);
        border-radius: 9999px;
        transition: width 0.5s ease-in-out;
        box-shadow: 0 0 8px var(--neon-green);
      }

      /* Custom scrollbar for cyberpunk feel */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: var(--darker-bg);
      }
      ::-webkit-scrollbar-thumb {
        background: var(--neon-blue);
        border-radius: 5px;
        box-shadow: 0 0 5px var(--neon-blue);
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #0ff;
      }

      /* Basic animation for roadmap items */
      .roadmap-item {
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
      }
      .roadmap-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 20px var(--neon-purple);
      }

      /* Video Placeholder Styling */
      .video-placeholder {
        background-color: #1a1a1a;
        border: 2px solid var(--neon-blue);
        border-radius: 1rem;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.5rem;
        color: var(--neon-blue);
        text-shadow: 0 0 5px var(--neon-blue);
        height: 300px; /* Default height */
      }
      @media (min-width: 768px) {
        .video-placeholder {
          height: 400px; /* Larger on desktop */
        }
      }

      /* Chatbot specific styles */
      .chat-window {
        height: 300px;
        overflow-y: auto;
        border: 1px solid rgba(0, 255, 255, 0.3);
        border-radius: 0.75rem;
        padding: 1rem;
        background-color: #1a1a1a;
        margin-bottom: 1rem;
      }
      .chat-message {
        margin-bottom: 0.75rem;
        padding: 0.5rem 0.75rem;
        border-radius: 0.5rem;
        max-width: 85%;
      }
      .chat-message.user {
        background-color: rgba(0, 255, 255, 0.1);
        color: var(--neon-blue);
        margin-left: auto;
        text-align: right;
      }
      .chat-message.ai {
        background-color: rgba(240, 0, 240, 0.1);
        color: var(--neon-purple);
        margin-right: auto;
        text-align: left;
      }
      .chat-input-container {
        display: flex;
        gap: 0.5rem;
      }
      .chat-input {
        flex-grow: 1;
        padding: 0.75rem;
        background-color: #333;
        border: 1px solid var(--neon-green);
        border-radius: 0.75rem;
        color: #e0e0e0;
        outline: none;
      }
      .chat-input:focus {
        border-color: var(--neon-green);
        box-shadow: 0 0 8px var(--neon-green);
      }

      /* Partner/Exchange Logos */
      .partner-logo {
        filter: drop-shadow(
          0 0 10px rgba(0, 255, 255, 0.5)
        ); /* Default neon-blue glow */
        transition: all 0.3s ease-in-out;
      }
      .partner-logo:hover {
        filter: drop-shadow(0 0 20px var(--neon-purple)) brightness(1.2);
        transform: scale(1.05);
      }

      /* Specific colors for some logos if desired */
      .partner-logo.solana {
        filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.7));
      } /* Brighter cyan */
      .partner-logo.instagram {
        filter: drop-shadow(0 0 15px rgba(240, 0, 240, 0.7));
      } /* Fuchsia */
      .partner-logo.facebook {
        filter: drop-shadow(0 0 15px rgba(0, 0, 255, 0.7));
      } /* Blue */
      .partner-logo.telegram {
        filter: drop-shadow(0 0 15px rgba(0, 255, 0, 0.7));
      } /* Green */
      .partner-logo.twitter {
        filter: drop-shadow(0 0 15px rgba(0, 172, 238, 0.7));
      } /* Twitter Blue */

      /* FAQ Accordion Styles */
      .faq-question {
        background-color: #1a1a1a;
        border: 1px solid rgba(0, 255, 255, 0.3);
        border-radius: 0.75rem;
        padding: 1rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .faq-question:hover {
        background-color: #2a2a2a;
      }
      .faq-question.active {
        background-color: #2a2a2a;
        border-color: var(--neon-green);
      }
      .faq-answer {
        background-color: #0d0d0d;
        border: 1px solid rgba(240, 0, 240, 0.2);
        border-top: none;
        border-radius: 0 0 0.75rem 0.75rem;
        padding: 1rem;
        margin-top: -0.5rem; /* Overlap with question border */
        display: none;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
      }
      .faq-answer.open {
        display: block; /* Controlled by JS for max-height transition */
      }

      /* Content Generator Specific Styles */
      .content-generator-output {
        background-color: #1a1a1a;
        border: 1px solid rgba(240, 0, 240, 0.3);
        border-radius: 0.75rem;
        padding: 1rem;
        min-height: 100px;
        color: var(--neon-purple);
        word-wrap: break-word;
        white-space: pre-wrap; /* Preserves whitespace and line breaks */
      }

      /* NFT Display Styles */
      .nft-display {
        background-color: #1a1a1a;
        border: 2px solid var(--neon-purple);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-top: 2rem;
        box-shadow: 0 0 15px rgba(240, 0, 240, 0.3);
      }
      .nft-image-container {
        width: 100%;
        height: 250px; /* Fixed height for consistency */
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #0d0d0d;
        border: 1px dashed rgba(0, 255, 255, 0.5);
        border-radius: 0.75rem;
        overflow: hidden;
      }
      .nft-image-container img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        filter: drop-shadow(0 0 5px var(--neon-blue));
      }

      /* Emoji Animation */
      @keyframes emojiPop {
        0% {
          opacity: 0;
          transform: scale(0.5) translateY(50px);
        }
        50% {
          opacity: 1;
          transform: scale(1.2) translateY(-20px);
        }
        100% {
          opacity: 0;
          transform: scale(1.5) translateY(-100px);
        }
      }

      .emoji-animate {
        animation: emojiPop 1.5s forwards;
      }
    </style>
  </head>
  <body>
    <header
      class="bg-black bg-opacity-70 backdrop-blur-sm p-4 md:p-6 shadow-lg fixed w-full z-50 rounded-b-xl"
    >
      <nav
        class="container mx-auto flex flex-col md:flex-row justify-between items-center"
      >
        <div class="mb-4 md:mb-0">
          <img
            src="https://bafybeiertrytby7fu3ysjwujyaaynnz46chqptwqcnxtsee3qizwzyzic4.ipfs.w3s.link/Lunaro..png"
            alt="LUNARO Logo"
            class="h-12 w-auto"
          />
        </div>
        <ul class="flex flex-wrap justify-center md:space-x-8 space-x-4">
          <li>
            <a
              href="#about"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >Sobre</a
            >
          </li>
          <li>
            <a
              href="#tokenomics"
              class="text-gray-300 hover:text-white hover:neon-text-purple transition duration-300"
              >Tokenomics</a
            >
          </li>
          <li>
            <a
              href="#roadmap"
              class="text-gray-300 hover:text-white hover:neon-text-green transition duration-300"
              >Roadmap</a
            >
          </li>
          <li>
            <a
              href="#presale-section"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >Pré-Venda</a
            >
          </li>
          <!-- NEW NAV LINK -->
          <li>
            <a
              href="#partners"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >Parceiros</a
            >
          </li>
          <li>
            <a
              href="#exchanges"
              class="text-gray-300 hover:text-white hover:neon-text-purple transition duration-300"
              >Exchanges</a
            >
          </li>
          <li>
            <a
              href="#whitepaper"
              class="text-gray-300 hover:text-white hover:neon-text-green transition duration-300"
              >Whitepaper</a
            >
          </li>
          <li>
            <a
              href="#faq"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >FAQ</a
            >
          </li>
          <li>
            <a
              href="#gallery"
              class="text-gray-300 hover:text-white hover:neon-text-purple transition duration-300"
              >Galeria</a
            >
          </li>
          <li>
            <a
              href="#newsletter"
              class="text-gray-300 hover:text-white hover:neon-text-green transition duration-300"
              >Newsletter</a
            >
          </li>
          <li>
            <a
              href="#audit-results"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >Auditoria</a
            >
          </li>
          <li>
            <a
              href="#mascot"
              class="text-gray-300 hover:text-white hover:neon-text-purple transition duration-300"
              >Mascote</a
            >
          </li>
          <li>
            <a
              href="#nft-game-creation"
              class="text-gray-300 hover:text-white hover:neon-text-blue transition duration-300"
              >NFT & Jogo</a
            >
          </li>
          <li>
            <a
              href="#content-generator"
              class="text-gray-300 hover:text-white hover:neon-text-green transition duration-300"
              >Criação AI</a
            >
          </li>
          <li class="flex items-center space-x-2">
            <button
              id="connectWalletBtn"
              class="neon-button px-4 py-2 rounded-xl text-sm md:text-base"
            >
              Conectar Carteira
            </button>
            <span
              id="connectedWalletDisplay"
              class="hidden text-gray-300 text-sm md:text-base cursor-pointer"
            ></span>
          </li>
        </ul>
      </nav>
    </header>

    <main class="pt-24 pb-12">
      <section id="hero" class="container mx-auto px-4 py-16 text-center">
        <h1
          class="text-5xl md:text-7xl font-bold mb-6 leading-tight hero-title-glow"
        >
          LUNARO: <span class="neon-text-purple">Energia da Atenção</span> em
          Valor Real
        </h1>
        <p class="text-xl md:text-2xl text-gray-400 mb-10 max-w-3xl mx-auto">
          Uma moeda alimentada pela luz da Lua, que transforma a energia da
          atenção em valor real. Mineração + Staking + Recompensas Gamificadas
          em um ecossistema DeFi dark-futurista.
        </p>

        <div
          class="video-placeholder w-full max-w-4xl mx-auto mb-10 rounded-xl"
        >
          <iframe
            width="100%"
            height="100%"
            src="https://www.youtube.com/embed/m05cAhohSAw"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
            class="rounded-xl"
          ></iframe>
        </div>

        <a
          href="#presale-section"
          class="neon-button px-8 py-4 text-xl font-bold inline-block mt-8"
        >
          PARTICIPAR DA PRÉ-VENDA!
        </a>
      </section>

      <!-- PRESALE SECTION - UPDATED FOR PAYMENT METHODS -->
      <section
        id="presale-section"
        class="container mx-auto px-4 py-16 text-center"
      >
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Participe da Pré-Venda <span class="neon-text-green">LUNARO</span>
        </h2>
        <div
          class="bg-black bg-opacity-50 p-6 rounded-2xl max-w-2xl mx-auto mb-10 card-bg"
        >
          <h3 class="text-2xl md:text-3xl neon-text-green mb-4">
            Pré-Venda Começa Em:
          </h3>
          <div
            id="countdown"
            class="flex justify-center space-x-4 md:space-x-8 text-4xl md:text-6xl font-bold neon-text-blue"
          >
            <div>
              <span id="days">00</span><br /><span
                class="text-base md:text-lg text-gray-500"
                >DIAS</span
              >
            </div>
            <div>
              <span id="hours">00</span><br /><span
                class="text-base md:text-lg text-gray-500"
                >HORAS</span
              >
            </div>
            <div>
              <span id="minutes">00</span><br /><span
                class="text-base md:text-lg text-gray-500"
                >MINUTOS</span
              >
            </div>
            <div>
              <span id="seconds">00</span><br /><span
                class="text-base md:text-lg text-gray-500"
                >SEGUNDOS</span
              >
            </div>
          </div>
        </div>

        <div
          id="presale-progress-area"
          class="bg-black bg-opacity-50 p-6 rounded-2xl max-w-3xl mx-auto card-bg"
        >
          <h3 class="text-2xl md:text-3xl neon-text-purple mb-4">
            Progresso da Pré-Venda
          </h3>
          <div class="flex justify-between text-lg mb-2">
            <span class="neon-text-green">Soft Cap: 3.000 SOL</span>
            <span class="neon-text-blue">Hard Cap: 3.500.000 SOL</span>
          </div>
          <div class="progress-bar-container mb-4">
            <div
              id="progressBarFill"
              class="progress-bar-fill"
              style="width: 0%"
            ></div>
          </div>
          <div class="flex justify-between text-xl font-bold">
            <span id="raisedAmount" class="neon-text-green"
              >0 SOL Arrecadados</span
            >
            <span id="tokensRemaining" class="neon-text-blue"
              >3,500,000,000 LNR Restantes</span
            >
          </div>

          <p id="walletStatus" class="mt-4 text-lg text-gray-400">
            Status da Carteira:
            <span class="neon-text-purple">Desconectada</span>
          </p>
          <p
            id="connectedWalletAddressDisplay"
            class="text-sm text-gray-500 break-words hidden"
          ></p>

          <div class="flex flex-col md:flex-row justify-center gap-4 mt-8">
            <button
              id="buyWithWalletBtn"
              class="neon-button px-8 py-4 text-xl font-bold flex-1"
            >
              Comprar com Carteira (SOL/EVM)
            </button>
            <button
              id="buyWithPixBtn"
              class="neon-button px-8 py-4 text-xl font-bold flex-1 bg-green-600 hover:bg-green-500"
            >
              Comprar com PIX
            </button>
            <button
              id="buyWithCardBtn"
              class="neon-button px-8 py-4 text-xl font-bold flex-1 bg-blue-600 hover:bg-blue-500"
            >
              Comprar com Cartão
            </button>
          </div>

          <p class="text-sm text-gray-500 mt-4">
            <span class="neon-text-green">Bônus de 10%</span> para compras nas
            primeiras 24h!
            <span class="neon-text-purple">NFT exclusivo</span> para os 100
            primeiros compradores.
          </p>
          <p class="text-lg neon-text-green font-bold mt-6">
            🎁 Ganhe um brinde exclusivo (camiseta, boné ou copo) ao comprar
            mais de 5 SOL em Lunaro!
          </p>
        </div>
      </section>
      <!-- END NEW PRESALE SECTION -->

      <section id="mascot" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Conheça <span class="neon-text-purple">Lunaro</span>, Nossa Lua e
          Mascote!
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
          <div
            class="card-bg p-8 rounded-2xl flex justify-center items-center h-full"
          >
            <img
              src="https://bafybeiacd2wo34gfpkgjwkmjnpwwlaww65yjsvneer7rveksx62geztooa.ipfs.w3s.link/Gemini_Generated_Image_qru8qru8qru8qru8.png"
              alt="A Lua Lunaro"
              class="rounded-lg border border-cyan-500 shadow-lg shadow-cyan-500/20"
            />
          </div>
          <div class="card-bg p-8 rounded-2xl">
            <p class="text-lg text-gray-300 leading-relaxed mb-6">
              Lunaro não é apenas nosso mascote; é a própria Lua Lunaro, a
              entidade que irradia a energia da atenção em nosso ecossistema. Um
              ser enigmático e ágil, nascido das sombras digitais e da luz neon
              das cidades futuristas. Ela guia os usuários através das missões,
              desafios e recompensas.
            </p>
            <p class="text-lg text-gray-300 leading-relaxed">
              Estamos entusiasmados em anunciar que a moeda LUNARO já foi
              lançada oficialmente na rede TON! Lunaro é o elo entre o mundo
              real e o universo DeFi de LUNARO, agora mais acessível do que
              nunca. Com sua aura cibernética e olhos que brilham com a promessa
              de um futuro descentralizado, Lunaro é a guardiã e a companheira
              de todos que buscam transformar sua atenção em valor real.
            </p>
          </div>
        </div>
      </section>

      <section id="social-wallet" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Login Social & Sua Carteira <span class="neon-text-blue">LUNARO</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            Conecte-se com suas contas sociais e de jogos favoritas para criar
            uma carteira LUNARO vinculada e gerenciar seus tokens.
          </p>

          <h3 class="text-2xl font-bold neon-text-purple mb-4">
            Conectar com:
          </h3>
          <div class="flex flex-wrap justify-center gap-6 mb-8">
            <button
              onclick="connectSocialWallet('Google')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-google mr-2"></i> Google
            </button>
            <button
              onclick="connectSocialWallet('Twitch')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-twitch mr-2"></i> Twitch
            </button>
            <button
              onclick="connectSocialWallet('Facebook')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-facebook mr-2"></i> Facebook
            </button>
            <button
              onclick="connectSocialWallet('Microsoft')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-microsoft mr-2"></i> Microsoft
            </button>
            <button
              onclick="connectSocialWallet('GitHub')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-github mr-2"></i> GitHub
            </button>
            <button
              onclick="connectSocialWallet('Instagram')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-instagram mr-2"></i> Instagram
            </button>
            <button
              onclick="connectSocialWallet('X (Twitter)')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-twitter mr-2"></i> X (Twitter)
            </button>
            <button
              onclick="connectSocialWallet('Discord')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-discord mr-2"></i> Discord
            </button>
            <button
              onclick="connectSocialWallet('LinkedIn')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-linkedin mr-2"></i> LinkedIn
            </button>
            <button
              onclick="connectSocialWallet('TikTok')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-tiktok mr-2"></i> TikTok
            </button>
            <button
              onclick="connectSocialWallet('Steam')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fab fa-steam-symbol mr-2"></i> Steam
            </button>
            <button
              onclick="connectSocialWallet('Epic Games')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fas fa-gamepad mr-2"></i> Epic Games
            </button>
            <button
              onclick="connectSocialWallet('Riot Games')"
              class="neon-button flex items-center px-6 py-3 text-lg"
            >
              <i class="fas fa-dice mr-2"></i> Riot Games
            </button>
          </div>

          <div
            id="socialWalletArea"
            class="hidden mt-8 p-6 bg-gray-800 rounded-xl border border-neon-green shadow-lg shadow-neon-green/20"
          >
            <h4 class="text-xl font-bold neon-text-green mb-4">
              Sua Carteira LUNARO Vinculada:
            </h4>
            <p class="text-lg text-gray-300 break-words">
              Endereço:
              <span id="socialWalletAddress" class="neon-text-blue"></span>
            </p>
            <p class="text-lg text-gray-300">
              Saldo LUNARO:
              <span id="socialWalletBalance" class="neon-text-blue">0 LNR</span>
            </p>

            <div class="mt-6 text-left">
              <h4 class="text-xl font-bold neon-text-purple mb-3">
                Enviar LUNARO:
              </h4>
              <label for="recipientAddress" class="block text-gray-300 mb-2"
                >Endereço do Destinatário:</label
              >
              <input
                type="text"
                id="recipientAddress"
                class="w-full p-3 bg-gray-700 border border-neon-blue text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue mb-4"
                placeholder="Endereço da carteira ou corretora"
              />

              <label for="sendAmount" class="block text-gray-300 mb-2"
                >Quantidade de LUNARO:</label
              >
              <input
                type="number"
                id="sendAmount"
                class="w-full p-3 bg-gray-700 border border-neon-blue text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue mb-4"
                placeholder="0.00 LNR"
                min="0.01"
                step="0.01"
              />

              <button
                onclick="sendLunaro()"
                class="neon-button px-6 py-3 text-lg w-full"
              >
                Enviar LUNARO (Simulado)
              </button>
            </div>
          </div>

          <p class="text-gray-500 text-sm mt-8">
            <span style="color: var(--red-alert)">Aviso:</span> Esta é uma
            simulação. Em um ambiente real, a criação e gestão de carteiras
            vinculadas a logins sociais exigem um serviço de Wallet as a Service
            (WaaS) ou uma infraestrutura de custódia/não-custódia robusta e
            segura. Suas chaves privadas nunca devem ser expostas no frontend.
          </p>
        </div>
      </section>

      <section id="how-to-buy" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Como Comprar <span class="neon-text-green">LNR</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            A moeda LUNARO já foi lançada oficialmente na rede TON! Você pode
            adquirir LUNARO diretamente em DEXs que suportam a rede TON.
          </p>

          <h3 class="text-2xl font-bold neon-text-purple mt-12 mb-4">
            Adquirir TON com Fiat (via Onramper)
          </h3>
          <p class="text-lg text-gray-300 mb-6">
            Se você não possui TON ou outras criptomoedas na rede TON, pode
            adquiri-las utilizando métodos de pagamento fiat (Boleto, Cartão de
            Crédito, PIX, etc.) através de serviços de rampa de acesso (fiat
            on-ramp).
          </p>
          <button
            onclick="window.open('https://buy.onramper.com/?apiKey=YOUR_ONRAMPER_API_KEY&defaultCrypto=TON&network=TON&defaultFiat=BRL&defaultAmount=200&themeName=dark', '_blank')"
            class="neon-button px-8 py-4 text-xl font-bold mb-8"
          >
            Comprar TON na Onramper
          </button>
          <p class="text-gray-500 text-sm mt-4 w-full">
            <span style="color: var(--red-alert)">Aviso:</span> Este é um
            serviço de terceiros (Onramper). Ele pode exigir KYC (verificação de
            identidade) e ter suas próprias taxas e restrições geográficas. Faça
            sua própria pesquisa (DYOR).
          </p>

          <h3 class="text-2xl font-bold neon-text-blue mt-12 mb-4">
            Próximos Passos (Listagem em DEX Solana):
          </h3>
          <p class="text-lg text-gray-300 mb-6">
            Embora LUNARO já esteja na TON, para a próxima listagem de LUNARO em
            uma DEX na rede Solana, estamos deixando a decisão para a nossa
            comunidade! Vote na sua DEX preferida:
          </p>

          <div
            id="dexVoteSection"
            class="flex flex-col md:flex-row justify-center gap-6 mb-8"
          >
            <button
              id="voteRaydium"
              class="neon-button px-6 py-3 text-lg flex-1"
            >
              Votar em Raydium
            </button>
            <button
              id="voteMeteora"
              class="neon-button px-6 py-3 text-lg flex-1"
            >
              Votar em Meteora
            </button>
          </div>
          <p id="voteResult" class="text-lg neon-text-green mt-4 hidden">
            Obrigado por votar! Votos: Raydium (<span id="raydiumVotes">0</span
            >), Meteora (<span id="meteoraVotes">0</span>)
          </p>

          <ol
            class="list-decimal list-inside text-left text-lg text-gray-300 space-y-3 mt-8 mb-8"
          >
            <li>
              Carteira TON: Certifique-se de ter uma carteira compatível com a
              rede TON (ex: Tonkeeper, MyTonWallet) com fundos (TON, USDT na
              TON).
            </li>
            <li>
              Compre TON (se necessário): Use a Onramper ou outra plataforma
              para adquirir TON com moeda fiat.
            </li>
            <li>
              Troque LNR: Acesse uma DEX da rede TON (ex: STON.fi, Dedust) e
              utilize seus fundos TON/USDT para trocar por LNR.
            </li>
          </ol>
        </div>
      </section>

      <section id="nft-game-creation" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Comunidade Decide:
          <span class="neon-text-blue">NFT & Jogo LUNARO</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-8">
            No ecossistema LUNARO, a comunidade tem o poder! Vamos criar juntos
            o primeiro NFT oficial e decidir o estilo do nosso futuro mini-jogo
            Web3.
          </p>

          <h3 class="text-3xl font-bold neon-text-purple mb-6">
            Primeiro NFT da Comunidade
          </h3>
          <p class="text-lg text-gray-300 mb-6">
            O primeiro NFT oficial de LUNARO será co-criado pela nossa
            comunidade. Vote nas características e temas que você gostaria de
            ver, e ajude a moldar esta peça única da história de LUNARO!
          </p>

          <!-- NFT Voting Section -->
          <div class="space-y-8 mb-8 text-left">
            <div>
              <h4 class="text-2xl font-bold neon-text-green mb-4">
                Vote no Tema do NFT:
              </h4>
              <div
                id="nftThemeVoteSection"
                class="flex flex-wrap justify-center gap-4"
              >
                <button
                  id="voteThemeCyberpunk"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Cidade Cyberpunk
                </button>
                <button
                  id="voteThemeMystical"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Floresta Mística
                </button>
                <button
                  id="voteThemeGalactic"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Anomalia Galáctica
                </button>
              </div>
              <p
                id="nftThemeVoteResult"
                class="text-lg neon-text-blue mt-4 hidden"
              >
                Votos Tema: Cyberpunk (<span id="cyberpunkThemeVotes">0</span>),
                Mística (<span id="mysticalThemeVotes">0</span>), Galáctica
                (<span id="galacticThemeVotes">0</span>)
              </p>
            </div>

            <div>
              <h4 class="text-2xl font-bold neon-text-green mb-4">
                Vote no Estilo de Arte do NFT:
              </h4>
              <div
                id="nftArtStyleVoteSection"
                class="flex flex-wrap justify-center gap-4"
              >
                <button
                  id="voteArtPixel"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Pixel Art
                </button>
                <button
                  id="voteArtRealistic"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Sci-Fi Realista
                </button>
                <button
                  id="voteArtAbstract"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Neon Abstrato
                </button>
              </div>
              <p
                id="nftArtStyleVoteResult"
                class="text-lg neon-text-blue mt-4 hidden"
              >
                Votos Estilo: Pixel (<span id="pixelArtVotes">0</span>),
                Realista (<span id="realisticArtVotes">0</span>), Abstrato
                (<span id="abstractArtVotes">0</span>)
              </p>
            </div>

            <div>
              <h4 class="text-2xl font-bold neon-text-green mb-4">
                Vote na Utilidade do NFT:
              </h4>
              <div
                id="nftUtilityVoteSection"
                class="flex flex-wrap justify-center gap-4"
              >
                <button
                  id="voteUtilityStaking"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Bônus de Staking
                </button>
                <button
                  id="voteUtilityEvent"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Acesso a Eventos Exclusivos
                </button>
                <button
                  id="voteUtilityGame"
                  class="neon-button px-6 py-3 text-lg flex-1"
                >
                  Vantagens no Jogo
                </button>
              </div>
              <p
                id="nftUtilityVoteResult"
                class="text-lg neon-text-blue mt-4 hidden"
              >
                Votos Utilidade: Staking (<span id="stakingUtilityVotes">0</span
                >), Eventos (<span id="eventUtilityVotes">0</span>), Jogo (<span
                  id="gameUtilityVotes"
                  >0</span
                >)
              </p>
            </div>
          </div>

          <h3 class="text-3xl font-bold neon-text-blue mb-6">
            Estilo do Mini-Jogo Web3
          </h3>
          <p class="text-lg text-gray-300 mb-6">
            Ajude-nos a decidir o estilo do nosso futuro mini-jogo Web3. Qual
            tipo de experiência você prefere?
          </p>
          <div
            id="gameStyleVoteSection"
            class="flex flex-col md:flex-row justify-center gap-6 mb-8"
          >
            <button
              id="voteGameArcade"
              class="neon-button px-6 py-3 text-lg flex-1"
            >
              Arcade Clássico
            </button>
            <button
              id="voteGameStrategy"
              class="neon-button px-6 py-3 text-lg flex-1"
            >
              Estratégia Tática
            </button>
            <button
              id="voteGameAdventure"
              class="neon-button px-6 py-3 text-lg flex-1"
            >
              Aventura Narrativa
            </button>
          </div>
          <p
            id="gameStyleVoteResult"
            class="text-lg neon-text-purple mt-4 hidden"
          >
            Votos Jogo: Arcade (<span id="arcadeGameVotes">0</span>), Estratégia
            (<span id="strategyGameVotes">0</span>), Aventura (<span
              id="adventureGameVotes"
              >0</span
            >)
          </p>
        </div>
      </section>

      <section id="nft-preview" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Prévia do <span class="neon-text-purple">NFT LUNARO</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            Com base nos votos da comunidade, gere uma prévia do nosso NFT
            oficial!
          </p>
          <div class="nft-display">
            <h3 class="text-2xl font-bold neon-text-green mb-4">
              Seu NFT Gerado:
            </h3>
            <div class="nft-image-container mb-4">
              <img
                id="generatedNftImage"
                src="https://placehold.co/250x250/0d0d0d/0ff?text=NFT+Preview"
                alt="Generated NFT"
              />
            </div>
            <p id="nftDescription" class="text-lg text-gray-400 mb-4">
              [Descrição do NFT aparecerá aqui]
            </p>
            <button
              id="generateNftBtn"
              class="neon-button px-6 py-3 text-lg w-full"
            >
              Gerar Novo NFT
            </button>
            <p id="nftLoading" class="text-center text-gray-400 mt-4 hidden">
              Gerando NFT...
            </p>
          </div>
          <p class="text-gray-500 text-sm mt-8">
            <span style="color: var(--red-alert)">Aviso:</span> Esta é uma
            **prévia gerada por IA** do NFT. O NFT final será cunhado na
            blockchain e pode ter variações.
          </p>
        </div>
      </section>

      <section id="content-generator" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Gerador de Conteúdo <span class="neon-text-green">LUNARO AI</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-3xl mx-auto">
          <p class="text-lg text-gray-300 mb-6 text-center">
            Gere ideias de conteúdo, slogans, ou descrições para o universo
            LUNARO usando nossa IA.
          </p>
          <div class="mb-6">
            <label
              for="contentPrompt"
              class="block text-gray-300 text-left mb-2"
              >Sua Ideia/Prompt:</label
            >
            <textarea
              id="contentPrompt"
              class="w-full p-3 bg-gray-700 border border-neon-blue text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue"
              rows="4"
              placeholder="Ex: Crie um slogan para o staking de LUNARO"
            ></textarea>
          </div>
          <button
            id="generateContentBtn"
            class="neon-button px-6 py-3 text-lg w-full"
          >
            Gerar Conteúdo
          </button>
          <p id="contentLoading" class="text-center text-gray-400 mt-4 hidden">
            Gerando conteúdo...
          </p>
          <div
            class="content-generator-output mt-6"
            id="generatedContentOutput"
          >
            [O conteúdo gerado aparecerá aqui]
          </div>
        </div>
      </section>

      <section id="ai-support" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          ✨ <span class="neon-text-purple">Luna</span>: Sua Assistente AI
          LUNARO ✨
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-3xl mx-auto">
          <p class="text-lg text-gray-300 mb-6 text-center">
            Olá! Eu sou a Luna, sua assistente de IA LUNARO. Pergunte-me sobre o
            projeto, a pré-venda, tokenomics, ou qualquer dúvida que tiver!
            Estou aqui para ajudar.
          </p>
          <div class="chat-window" id="chatWindow">
            <div class="chat-message ai">
              Olá! Eu sou a Luna, sua assistente de IA LUNARO. Como posso ajudar
              você hoje com o projeto LUNARO?
            </div>
          </div>
          <div class="chat-input-container">
            <input
              type="text"
              id="chatInput"
              class="chat-input"
              placeholder="Digite sua pergunta aqui..."
            />
            <button id="sendChatBtn" class="neon-button px-6 py-3 text-lg">
              Enviar
            </button>
          </div>
          <p id="chatLoading" class="text-center text-gray-400 mt-4 hidden">
            Carregando resposta da Luna...
          </p>
        </div>
      </section>

      <section id="about" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          O Que é <span class="neon-text-blue">LUNARO</span>?
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
          <div class="card-bg p-8 rounded-2xl">
            <p class="text-lg text-gray-300 leading-relaxed mb-6">
              LUNARO é mais do que uma criptomoeda; é um ecossistema digital
              pioneiro que transforma a energia da atenção humana em valor
              tangível na blockchain Solana. Inspirado pela mística da Lua,
              nosso projeto une o poder da descentralização com uma experiência
              gamificada e imersiva.
            </p>
            <p class="text-lg text-gray-300 leading-relaxed">
              Em um futuro dark-futurista, LUNARO oferece uma nova forma de
              interação com o DeFi, onde a participação da comunidade é
              recompensada e a utilidade do token LNR se estende através de
              múltiplos vetores.
            </p>
          </div>
          <div
            class="card-bg p-8 rounded-2xl flex justify-center items-center h-full"
          >
            <img
              src="https://placehold.co/400x300/0a0a0a/0ff?text=LUNARO+Concept"
              alt="LUNARO Concept Art"
              class="rounded-lg border border-cyan-500 shadow-lg shadow-cyan-500/20"
            />
          </div>
        </div>

        <h3
          class="text-3xl md:text-4xl text-center font-bold neon-text-purple mt-16 mb-8"
        >
          Utilidade do Token LNR
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div
            class="card-bg p-6 rounded-xl flex flex-col items-center text-center"
          >
            <div class="text-5xl mb-4 neon-text-green">✅</div>
            <h4 class="text-xl font-bold mb-2">Staking com Rank</h4>
            <p class="text-gray-400">
              Ganhe bônus visuais e suba no ranking ao fazer staking de LNR.
            </p>
          </div>
          <div
            class="card-bg p-6 rounded-xl flex flex-col items-center text-center"
          >
            <div class="text-5xl mb-4 neon-text-blue">✅</div>
            <h4 class="text-xl font-bold mb-2">Acesso a Eventos</h4>
            <p class="text-gray-400">
              LNR é a moeda oficial para acesso a eventos exclusivos do
              ecossistema.
            </p>
          </div>
          <div
            class="card-bg p-6 rounded-xl flex flex-col items-center text-center"
          >
            <div class="text-5xl mb-4 neon-text-purple">✅</div>
            <h4 class="text-xl font-bold mb-2">Recompensas por Missões</h4>
            <p class="text-gray-400">
              Participe de missões da comunidade e seja recompensado com LNR.
            </p>
          </div>
          <div
            class="card-bg p-6 rounded-xl flex flex-col items-center text-center"
          >
            <div class="text-5xl mb-4 neon-text-green">✅</div>
            <h4 class="text-xl font-bold mb-2">Mini Jogo Web3</h4>
            <p class="text-gray-400">
              Futuro uso de LNR como moeda principal em um mini jogo Web3.
            </p>
          </div>
        </div>
      </section>

      <section id="partners" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Nossos <span class="neon-text-blue">Parceiros</span> & Ecossistema
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-5xl mx-auto text-center">
          <h3 class="text-3xl font-bold neon-text-green mb-6">
            Impulsionado por:
          </h3>
          <div
            class="flex flex-col md:flex-row justify-center items-center mb-10 gap-4"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/en/b/b9/Solana_logo.png"
              alt="Solana Logo"
              class="h-20 md:h-24 mx-4 partner-logo solana"
            />
            <span class="text-5xl font-bold neon-text-blue ml-4">Solana</span>
            <p class="text-lg text-gray-400 max-w-xl">
              Escolhemos a **Solana** por sua velocidade inigualável,
              escalabilidade e custos de transação mínimos, garantindo uma
              experiência DeFi fluida para o ecossistema LUNARO.
            </p>
          </div>

          <h3 class="text-3xl font-bold neon-text-purple mt-12 mb-6">
            Conecte-se à Nossa Comunidade:
          </h3>
          <div
            class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8 mb-10"
          >
            <div class="flex flex-col items-center">
              <a
                href="https://x.com/CoinLunaro"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-blue transition duration-300 mb-2 partner-logo twitter"
                ><i class="fab fa-twitter"></i
              ></a>
              <p class="text-lg text-gray-400">X (Twitter)</p>
            </div>
            <div class="flex flex-col items-center">
              <a
                href="https://www.instagram.com/lunarocoin/"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-purple transition duration-300 mb-2 partner-logo instagram"
                ><i class="fab fa-instagram"></i
              ></a>
              <p class="text-lg text-gray-400">Instagram</p>
            </div>
            <div class="flex flex-col items-center">
              <a
                href="https://t.me/LUNARO_Solanium_Group"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-green transition duration-300 mb-2 partner-logo telegram"
                ><i class="fab fa-telegram"></i
              ></a>
              <p class="text-lg text-gray-400">Telegram</p>
            </div>
            <div class="flex flex-col items-center">
              <a
                href="#"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-blue transition duration-300 mb-2 partner-logo facebook"
                ><i class="fab fa-facebook"></i
              ></a>
              <p class="text-lg text-gray-400">Facebook</p>
            </div>
            <div class="flex flex-col items-center">
              <a
                href="https://discord.gg/rn9vRGDc"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-purple transition duration-300 mb-2"
                ><i class="fab fa-discord"></i
              ></a>
              <p class="text-lg text-gray-400">Discord (Grupo Oficial)</p>
            </div>
            <div class="flex flex-col items-center">
              <a
                href="https://www.youtube.com/@cryptocoin-y5q"
                target="_blank"
                class="text-6xl text-gray-300 hover:neon-text-green transition duration-300 mb-2"
                ><i class="fab fa-youtube"></i
              ></a>
              <p class="text-lg text-gray-400">YouTube (Canal LUNARO)</p>
            </div>
          </div>
        </div>
      </section>

      <section id="exchanges" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Onde Negociar <span class="neon-text-purple">LNR</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-8">
            Após a pré-venda, LUNARO será listado em diversas plataformas para
            garantir ampla acessibilidade.
          </p>

          <h3 class="text-3xl font-bold neon-text-blue mb-6">
            Corretoras Descentralizadas (DEX):
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
            <div
              class="flex flex-col items-center p-4 bg-gray-800 rounded-xl border border-neon-green shadow-lg shadow-neon-green/20"
            >
              <img
                src="https://bafybeiepmbfxbmxbf4rfruoojngfikzdwhklmc5244xumzbiy27xo46424.ipfs.w3s.link/11165.png"
                alt="Orca DEX Logo"
                class="h-16 mb-2 partner-logo"
              />
              <p class="text-xl neon-text-green font-bold">Orca</p>
              <p class="text-gray-400 text-sm">Principal DEX na Solana</p>
              <a
                href="#"
                target="_blank"
                class="neon-button px-4 py-2 mt-4 text-sm"
                >Negocie LNR na Orca (Em Breve)</a
              >
            </div>
            <div
              class="flex flex-col items-center p-4 bg-gray-800 rounded-xl border border-neon-purple shadow-lg shadow-neon-purple/20"
            >
              <img
                src="https://bafybeibwocqnkoqimpq6ri2qjenm34xtzj37zd4ogg37quawnrd4ksc73e.ipfs.w3s.link/8526.png"
                alt="Raydium DEX Logo"
                class="h-16 mb-2 partner-logo"
              />
              <p class="text-xl neon-text-purple font-bold">Raydium</p>
              <p class="text-gray-400 text-sm">
                Ecossistema DeFi multifuncional
              </p>
              <a
                href="#"
                target="_blank"
                class="neon-button px-4 py-2 mt-4 text-sm"
                >Negocie LNR na Raydium (Em Breve)</a
              >
            </div>
          </div>

          <h3 class="text-3xl font-bold neon-text-green mb-6">
            Corretoras Centralizadas (CEX):
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div
              class="flex flex-col items-center p-4 bg-gray-800 rounded-xl border border-neon-blue shadow-lg shadow-neon-blue/20"
            >
              <img
                src="https://bafybeib4mukxwvvsg5vza6wkvq2nz6rq4v5jtheowqdsuls3dfaervee54.ipfs.w3s.link/eb2349c3-b2f8-4a93-a286-8f86a62ea9d8.png"
                alt="Binance CEX Logo"
                class="h-16 mb-2 partner-logo"
              />
              <p class="text-xl neon-text-blue font-bold">Binance</p>
              <p class="text-gray-400 text-sm">Maior exchange do mundo</p>
              <p class="text-sm neon-text-green mt-2">Listagem Futura</p>
            </div>
            <div
              class="flex flex-col items-center p-4 bg-gray-800 rounded-xl border border-neon-purple shadow-lg shadow-neon-purple/20"
            >
              <img
                src="https://bafybeiajhg3c4azsx3jvpmx3legtmodtvptxjvrqiv4s6mv7523we2wc3y.ipfs.w3s.link/1885080.png"
                alt="Coinbase CEX Logo"
                class="h-16 mb-2 partner-logo"
              />
              <p class="text-xl neon-text-purple font-bold">Coinbase</p>
              <p class="text-gray-400 text-sm">Exchange líder nos EUA</p>
              <p class="text-sm neon-text-green mt-2">Listagem Futura</p>
            </div>
            <div
              class="flex flex-col items-center p-4 bg-gray-800 rounded-xl border border-neon-green shadow-lg shadow-neon-green/20"
            >
              <img
                src="https://bafybeiczkcqxu2h7ggwjcwcb7vay7jlthf3nxr7p553i5eyyywyiq5nnwa.ipfs.w3s.link/2197889f8020488480eeaeef0eced58c.png"
                alt="Bitget CEX Logo"
                class="h-16 mb-2 partner-logo"
              />
              <p class="text-xl neon-text-green font-bold">Bitget</p>
              <p class="text-gray-400 text-sm">
                Plataforma de trading de derivativos
              </p>
              <p class="text-sm neon-text-blue mt-2">Listagem Futura</p>
            </div>
          </div>

          <p class="text-gray-500 text-sm mt-8">
            <span style="color: var(--red-alert)">Nota:</span> As listagens em
            exchanges centralizadas (CEX) estão sujeitas a termos e aprovações.
          </p>
        </div>
      </section>

      <section id="tokenomics" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Tokenomics de <span class="neon-text-green">LUNARO</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto">
          <p class="text-2xl font-bold text-center mb-8 neon-text-blue">
            Fornecimento Total: 5.000.000.000 LNR
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <ul class="space-y-4 text-lg text-gray-300">
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-purple">●</span> 25%
                (1.25B) – Pré-venda
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-green">●</span> 15% (750M)
                – Equipe (vesting 12 meses)
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-blue">●</span> 10% (500M) –
                Liquidez inicial + DEX listing
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-purple">●</span> 20% (1B) –
                Recompensas de staking/mineração
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-green">●</span> 15% (750M)
                – Desenvolvimento futuro (bloqueado por 6 meses)
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-blue">●</span> 10% (500M) –
                Marketing e parcerias
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-purple">●</span> 5% (250M)
                – Fundo da comunidade (governança)
              </li>
            </ul>
            <div class="flex justify-center items-center">
              <img
                src="https://placehold.co/350x350/0a0a0a/f0f?text=Tokenomics+Chart"
                class="rounded-full border border-fuchsia-500 shadow-lg shadow-fuchsia-500/20"
              />
            </div>
          </div>

          <div class="mt-12">
            <h3 class="text-3xl font-bold neon-text-green mb-4">
              Mecanismos Deflacionários
            </h3>
            <ul class="space-y-3 text-lg text-gray-300">
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-blue">✓</span> Queima
                automática de 0.5% de cada transação.
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-purple">✓</span> Queima de
                tokens não vendidos na pré-venda.
              </li>
            </ul>
          </div>

          <div class="mt-8">
            <h3 class="text-3xl font-bold neon-text-blue mb-4">Vesting</h3>
            <ul class="space-y-3 text-lg text-gray-300">
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-green">✓</span> Equipe e
                advisors com desbloqueio mensal após 6 meses.
              </li>
              <li class="flex items-center">
                <span class="text-2xl mr-3 neon-text-purple">✓</span> Parcerias
                estratégicas com linear unlock.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <section id="roadmap" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Nosso <span class="neon-text-purple">Roadmap</span>
        </h2>
        <div class="relative max-w-5xl mx-auto">
          <div
            class="absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gray-700 rounded-full hidden md:block"
          ></div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div
              class="roadmap-item card-bg p-8 rounded-2xl md:col-start-1 md:text-right md:pr-12 relative"
            >
              <div
                class="absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-cyan-500 rounded-full border-2 border-white hidden md:block shadow-lg shadow-cyan-500/50"
              ></div>
              <h3 class="text-3xl font-bold neon-text-blue mb-4">🚀 Q2 2025</h3>
              <ul class="list-disc list-inside space-y-2 text-lg text-gray-300">
                <li>Pré-venda em 3 fases</li>
                <li>Lançamento do staking Web3</li>
                <li>Listagem em Orca (Solana)</li>
              </ul>
            </div>

            <div
              class="roadmap-item card-bg p-8 rounded-2xl md:col-start-2 md:text-left md:pl-12 relative"
            >
              <div
                class="absolute left-0 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-fuchsia-500 rounded-full border-2 border-white hidden md:block shadow-lg shadow-fuchsia-500/50"
              ></div>
              <h3 class="text-3xl font-bold neon-text-purple mb-4">
                🌕 Q3 2025
              </h3>
              <ul class="list-disc list-inside space-y-2 text-lg text-gray-300">
                <li>Site de eventos + login Web3</li>
                <li>Sistema de ranks por mineração</li>
                <li>Início de gamificação com quests</li>
              </ul>
            </div>

            <div
              class="roadmap-item card-bg p-8 rounded-2xl md:col-start-1 md:text-right md:pr-12 relative"
            >
              <div
                class="absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-lime-500 rounded-full border-2 border-white hidden md:block shadow-lg shadow-lime-500/50"
              ></div>
              <h3 class="text-3xl font-bold neon-text-green mb-4">
                🌌 Q4 2025
              </h3>
              <ul class="list-disc list-inside space-y-2 text-lg text-gray-300">
                <li>Listagem em DEXs secundárias</li>
                <li>App mobile do ecossistema LUNARO</li>
                <li>Parcerias com influencers + Web3 Tools</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section id="whitepaper" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Whitepaper &
          <span class="neon-text-green">Documentação Detalhada</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            Mergulhe fundo na visão, tecnologia e economia do LUNARO. Nosso
            whitepaper detalha cada aspecto do projeto, desde a infraestrutura
            técnica até os planos de longo prazo para o ecossistema.
          </p>
          <div class="flex flex-col md:flex-row justify-center gap-4 mt-8">
            <a
              href="https://bafybeia7e772efustgvgbbryss3xynnhbvawfo44jomtjequx5ng47m2kq.ipfs.w3s.link/Lunaro_Whitepaper.pdf.ptb"
              target="_blank"
              class="neon-button px-8 py-4 text-xl font-bold"
            >
              Baixar Whitepaper (PDF) - Português
            </a>
            <a
              href="https://bafybeidar4h2ysdhccq4hicf7zgx7wj6uwihdfrqup2r2nket2va63hy2u.ipfs.w3s.link/%F0%9F%93%84%20Lunaro.pdf"
              target="_blank"
              class="neon-button px-8 py-4 text-xl font-bold"
            >
              Download Whitepaper (PDF) - English
            </a>
          </div>
          <p class="text-gray-500 text-sm mt-4">
            <span style="color: var(--red-alert)">Nota:</span> O whitepaper é um
            documento técnico e pode ser atualizado.
          </p>
        </div>
      </section>

      <section id="faq" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Perguntas <span class="neon-text-purple">Frequentes (FAQ)</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto">
          <div class="space-y-4">
            <div class="faq-item">
              <div class="faq-question flex justify-between items-center">
                <h3 class="text-xl font-bold neon-text-blue">
                  O que é LUNARO?
                </h3>
                <i class="fas fa-chevron-down text-neon-blue"></i>
              </div>
              <div class="faq-answer text-gray-300">
                <p>
                  LUNARO é um ecossistema digital pioneiro na blockchain Solana
                  que transforma a energia da atenção humana em valor tangível,
                  combinando mineração, staking e recompensas gamificadas.
                </p>
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question flex justify-between items-center">
                <h3 class="text-xl font-bold neon-text-blue">
                  Como posso participar da pré-venda?
                </h3>
                <i class="fas fa-chevron-down text-neon-blue"></i>
              </div>
              <div class="faq-answer text-gray-300">
                <p>
                  Você pode participar da pré-venda usando SOL diretamente da
                  sua carteira Solana. Se não tiver SOL, pode adquiri-lo através
                  de serviços de rampa de acesso (fiat on-ramp) que suportam
                  SOL.
                </p>
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question flex justify-between items-center">
                <h3 class="text-xl font-bold neon-text-blue">
                  Qual é o fornecimento total de LUNARO?
                </h3>
                <i class="fas fa-chevron-down text-neon-blue"></i>
              </div>
              <div class="faq-answer text-gray-300">
                <p>
                  O fornecimento total de LUNARO é de 5.000.000.000 LNR.
                  Detalhes sobre a distribuição podem ser encontrados na seção
                  de Tokenomics.
                </p>
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question flex justify-between items-center">
                <h3 class="text-xl font-bold neon-text-blue">
                  Quando LUNARO será listado em exchanges?
                </h3>
                <i class="fas fa-chevron-down text-neon-blue"></i>
              </div>
              <div class="faq-answer text-gray-300">
                <p>
                  Após a pré-venda, LUNARO será listado em DEXs como Orca e
                  Raydium, e futuramente em CEXs como Binance, Coinbase e
                  Bitget. As datas exatas serão anunciadas em nosso roadmap e
                  canais sociais.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="gallery" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Galeria & <span class="neon-text-green">Mídia Visual</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-5xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-8">
            Explore o universo visual de LUNARO com nossa coleção de imagens e
            vídeos conceituais.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-blue shadow-lg shadow-neon-blue/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/0ff?text=Conceito+1"
                alt="Conceito 1"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-blue font-bold"
                  >Conceito Cyberpunk</span
                >
              </div>
            </div>
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-purple shadow-lg shadow-neon-purple/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/f0f?text=Conceito+2"
                alt="Conceito 2"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-purple font-bold"
                  >Arquitetura Futura</span
                >
              </div>
            </div>
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-green shadow-lg shadow-neon-green/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/0f0?text=Conceito+3"
                alt="Conceito 3"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-green font-bold"
                  >Personagens</span
                >
              </div>
            </div>
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-blue shadow-lg shadow-neon-blue/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/0ff?text=Video+Teaser"
                alt="Video Teaser"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-blue font-bold"
                  >Vídeo Teaser</span
                >
              </div>
            </div>
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-purple shadow-lg shadow-neon-purple/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/f0f?text=Gameplay+Preview"
                alt="Gameplay Preview"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-purple font-bold"
                  >Prévia de Gameplay</span
                >
              </div>
            </div>
            <div
              class="relative group rounded-xl overflow-hidden border border-neon-green shadow-lg shadow-neon-green/20"
            >
              <img
                src="https://placehold.co/400x250/0a0a0a/0f0?text=Arte+Conceitual"
                alt="Arte Conceitual"
                class="w-full h-48 object-cover transition-transform duration-300 group-hover:opacity-100 transition-opacity duration-300"
              />
              <div
                class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                <span class="text-xl neon-text-green font-bold"
                  >Arte Conceitual Adicional</span
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="newsletter" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Assine Nossa <span class="neon-text-blue">Newsletter</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            Mantenha-se atualizado com as últimas notícias, anúncios e
            desenvolvimentos do projeto LUNARO.
          </p>
          <form id="newsletterForm" class="flex flex-col gap-4">
            <input
              type="email"
              id="newsletterEmail"
              class="w-full p-3 bg-gray-700 border border-neon-green text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-green"
              placeholder="Seu e-mail"
              required
            />
            <button type="submit" class="neon-button px-6 py-3 text-lg">
              Assinar
            </button>
          </form>
          <p id="newsletterMessage" class="text-sm mt-4 hidden"></p>
        </div>
      </section>

      <section id="audit-results" class="container mx-auto px-4 py-16">
        <h2 class="text-4xl md:text-5xl text-center font-bold mb-12">
          Resultados de <span class="neon-text-purple">Auditoria</span>
        </h2>
        <div class="card-bg p-8 rounded-2xl max-w-4xl mx-auto text-center">
          <p class="text-lg text-gray-300 mb-6">
            A segurança e a transparência são pilares fundamentais do LUNARO.
            Nosso contrato inteligente e a própria estrutura do projeto foram
            submetidos a uma auditoria rigorosa por
            <span class="neon-text-green font-bold">Jerry Stark</span>.
          </p>
          <p class="text-lg text-gray-300 mb-6">
            Essa auditoria, realizada em parceria com a
            <span class="neon-text-blue font-bold">Solana</span> e desenvolvida
            na rede Solana, garante a robustez e a integridade do ecossistema
            LUNARO, oferecendo confiança aos nossos usuários.
          </p>
          <a
            href="#"
            target="_blank"
            class="neon-button px-8 py-4 text-xl font-bold"
          >
            Ver Relatório de Auditoria (PDF)
          </a>
          <p class="text-gray-500 text-sm mt-4">
            <span style="color: var(--red-alert)">Nota:</span> O relatório de
            auditoria detalha as descobertas e as medidas de segurança
            implementadas.
          </p>
        </div>
      </section>
    </main>

    <footer
      class="bg-black bg-opacity-70 backdrop-blur-sm p-8 mt-16 rounded-t-xl"
    >
      <div class="container mx-auto text-center text-gray-400">
        <div class="flex flex-wrap justify-center space-x-6 mb-6">
          <a href="#" class="hover:neon-text-blue transition duration-300"
            >Termos & Condições</a
          >
          <a href="#" class="hover:neon-text-purple transition duration-300"
            >Aviso de Risco</a
          >
          <a
            href="mailto:lunarocoin@gmail.com"
            class="hover:neon-text-green transition duration-300"
            >lunarocoin@gmail.com</a
          >
        </div>
        <div class="flex justify-center space-x-6 mb-6">
          <a
            href="https://x.com/CoinLunaro"
            target="_blank"
            class="text-2xl hover:neon-text-blue transition duration-300"
            >X (Twitter)</a
          >
          <a
            href="https://www.instagram.com/lunarocoin/"
            target="_blank"
            class="text-2xl hover:neon-text-purple transition duration-300"
            >Instagram</a
          >
          <a
            href="https://t.me/LUNARO_Solanium_Group"
            target="_blank"
            class="text-2xl hover:neon-text-green transition duration-300"
            >Telegram</a
          >
        </div>
        <p>© 2025 LUNARO. Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- Universal Message Box -->
    <div
      id="messageBox"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-xl border border-cyan-500 shadow-lg shadow-cyan-500/50 max-w-md text-center"
      >
        <h3
          id="messageBoxTitle"
          class="text-2xl font-bold neon-text-blue mb-4"
        ></h3>
        <p id="messageBoxContent" class="text-lg text-gray-300 mb-6"></p>
        <button
          onclick="hideMessageBox()"
          class="neon-button px-6 py-3 text-lg"
        >
          OK
        </button>
      </div>
    </div>

    <!-- Wallet Selection Modal -->
    <div
      id="walletSelectionModal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-2xl border border-cyan-500 shadow-lg shadow-cyan-500/50 max-w-md w-full text-center"
      >
        <h3 class="text-2xl font-bold neon-text-blue mb-6">
          Conectar Sua Carteira
        </h3>
        <div class="flex flex-col gap-4">
          <button
            id="selectSolanaWalletBtn"
            class="neon-button flex items-center justify-center px-6 py-3 text-lg"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/en/b/b9/Solana_logo.png"
              alt="Solana Logo"
              class="h-6 w-6 mr-2"
            />
            Carteira Solana
          </button>
          <button
            id="selectTonWalletBtn"
            class="neon-button flex items-center justify-center px-6 py-3 text-lg"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Ton_Blockchain_logo.svg/1200px-Ton_Blockchain_logo.svg.png"
              alt="TON Logo"
              class="h-6 w-6 mr-2"
            />
            Carteira TON
          </button>
          <button
            id="selectMetamaskWalletBtn"
            class="neon-button flex items-center justify-center px-6 py-3 text-lg"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg"
              alt="MetaMask Logo"
              class="h-6 w-6 mr-2"
            />
            MetaMask (EVM)
          </button>
          <button
            onclick="hideWalletSelectionModal()"
            class="bg-gray-700 text-gray-200 px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-300 mt-4"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Payment Method Selection Modal -->
    <div
      id="paymentMethodModal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-2xl border border-purple-500 shadow-lg shadow-purple-500/50 max-w-lg w-full text-center"
      >
        <h3 class="text-2xl font-bold neon-text-purple mb-6">
          Escolha o Método de Pagamento
        </h3>
        <div class="flex flex-col gap-4">
          <button
            onclick="showPurchaseModal()"
            class="neon-button px-6 py-3 text-lg"
          >
            Pagar com Carteira Solana (SOL)
          </button>
          <button
            onclick="showPixPaymentModal()"
            class="neon-button px-6 py-3 text-lg bg-green-600 hover:bg-green-500"
          >
            Pagar com PIX
          </button>
          <button
            onclick="showStripePaymentModal()"
            class="neon-button px-6 py-3 text-lg bg-blue-600 hover:bg-blue-500"
          >
            Pagar com Cartão de Crédito
          </button>
          <button
            onclick="hidePaymentMethodModal()"
            class="bg-gray-700 text-gray-200 px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-300 mt-4"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- SOL Wallet Purchase Modal (Existing) -->
    <div
      id="purchaseModal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-2xl border border-purple-500 shadow-lg shadow-purple-500/50 max-w-lg w-full text-center"
      >
        <h3 class="text-2xl font-bold neon-text-purple mb-6">
          Comprar LNR com SOL (Carteira Conectada)
        </h3>
        <p class="text-lg text-gray-300 mb-4">
          Você está conectado com: <br /><span
            id="modalWalletAddress"
            class="neon-text-blue text-base break-words"
          ></span>
        </p>

        <p class="text-gray-400 text-sm mb-6">
          <span style="color: var(--red-alert)">ATENÇÃO:</span> Esta é uma
          **simulação** da compra para fins de demonstração. Em um ambiente
          real, você enviaria SOL para o contrato inteligente da pré-venda.
        </p>

        <div class="mb-6">
          <label for="purchaseAmount" class="block text-left text-gray-300 mb-2"
            >Quantidade de SOL que deseja comprar:</label
          >
          <input
            type="number"
            id="purchaseAmount"
            class="w-full p-3 bg-gray-800 border border-neon-green text-neon-green rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-green"
            placeholder="Min 0.01 SOL"
            min="0.01"
            step="0.01"
          />
        </div>

        <p class="text-lg text-gray-300 mb-6">
          Você receberá aproximadamente:
          <span id="receivedLNR" class="neon-text-blue font-bold">0 LNR</span>
        </p>

        <div class="flex justify-center space-x-4">
          <button
            onclick="confirmPurchase()"
            class="neon-button px-6 py-3 text-lg"
          >
            Confirmar Compra (Simulado)
          </button>
          <button
            onclick="hidePurchaseModal()"
            class="bg-gray-700 text-gray-200 px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-300"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- PIX Payment Modal -->
    <div
      id="pixPaymentModal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-2xl border border-green-500 shadow-lg shadow-green-500/50 max-w-lg w-full text-center"
      >
        <h3 class="text-2xl font-bold neon-text-green mb-6">
          Comprar LNR com PIX
        </h3>
        <p class="text-lg text-gray-300 mb-4">
          Escaneie o QR Code abaixo ou use a chave PIX para enviar o valor. Seus
          tokens LNR serão enviados automaticamente para a carteira Solana que
          você informar abaixo após a confirmação do pagamento.
        </p>
        <div class="flex justify-center mb-6">
          <img
            src="https://placehold.co/200x200/000000/0f0?text=QR+Code+PIX"
            alt="QR Code PIX Simulado"
            class="rounded-lg border border-neon-green"
          />
        </div>
        <p class="text-lg text-gray-300 mb-2">
          Chave PIX (Simulada):
          <span id="pixKey" class="neon-text-blue break-words"
            >lunaro.presale@mercadopago.com.br</span
          >
        </p>
        <button
          onclick="copyToClipboard('pixKey')"
          class="neon-button px-4 py-2 text-sm mb-6"
        >
          Copiar Chave PIX
        </button>

        <div class="mb-6">
          <label for="pixAmountBRL" class="block text-left text-gray-300 mb-2"
            >Valor em BRL:</label
          >
          <input
            type="number"
            id="pixAmountBRL"
            class="w-full p-3 bg-gray-800 border border-neon-blue text-neon-blue rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue"
            placeholder="Min R$ 10,00"
            min="10"
            step="0.01"
          />
        </div>
        <p class="text-lg text-gray-300 mb-6">
          Você receberá aproximadamente:
          <span id="receivedLNRFromPix" class="neon-text-blue font-bold"
            >0 LNR</span
          >
        </p>

        <div class="mb-6">
          <label
            for="pixSolanaAddress"
            class="block text-left text-gray-300 mb-2"
            >Sua Carteira Solana para Receber LNR:</label
          >
          <input
            type="text"
            id="pixSolanaAddress"
            class="w-full p-3 bg-gray-800 border border-neon-green text-neon-green rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-green"
            placeholder="Ex: GsF...seuEnderecoAqui"
          />
        </div>

        <div class="flex justify-center space-x-4">
          <button
            onclick="confirmPixPayment()"
            class="neon-button px-6 py-3 text-lg bg-green-600 hover:bg-green-500"
          >
            Confirmar Pagamento PIX (Simulado)
          </button>
          <button
            onclick="hidePixPaymentModal()"
            class="bg-gray-700 text-gray-200 px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-300"
          >
            Cancelar
          </button>
        </div>
        <p class="text-gray-500 text-sm mt-4">
          <span style="color: var(--red-alert)">Aviso:</span> Este é um ambiente
          de demonstração. Em um cenário real, a integração com o Mercado Pago e
          a automação do envio de tokens exigiria um backend seguro.
        </p>
      </div>
    </div>

    <!-- Stripe Credit Card Payment Modal -->
    <div
      id="stripePaymentModal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-gray-900 p-8 rounded-2xl border border-blue-500 shadow-lg shadow-blue-500/50 max-w-lg w-full text-center"
      >
        <h3 class="text-2xl font-bold neon-text-blue mb-6">
          Comprar LNR com Cartão de Crédito
        </h3>
        <p class="text-lg text-gray-300 mb-4">
          Preencha os dados do cartão. Seus tokens LNR serão enviados
          automaticamente para a carteira Solana que você informar abaixo após a
          confirmação do pagamento.
        </p>
        <div class="mb-4 text-left">
          <label for="cardName" class="block text-gray-300 mb-2"
            >Nome no Cartão:</label
          >
          <input
            type="text"
            id="cardName"
            class="w-full p-3 bg-gray-800 border border-neon-purple text-neon-purple rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-purple"
            placeholder="Nome Completo"
          />
        </div>
        <div class="mb-4 text-left">
          <label for="cardNumber" class="block text-gray-300 mb-2"
            >Número do Cartão:</label
          >
          <input
            type="text"
            id="cardNumber"
            class="w-full p-3 bg-gray-800 border border-neon-purple text-neon-purple rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-purple"
            placeholder="XXXX XXXX XXXX XXXX"
            maxlength="19"
          />
        </div>
        <div class="grid grid-cols-2 gap-4 mb-6">
          <div class="text-left">
            <label for="cardExpiry" class="block text-gray-300 mb-2"
              >Validade (MM/AA):</label
            >
            <input
              type="text"
              id="cardExpiry"
              class="w-full p-3 bg-gray-800 border border-neon-purple text-neon-purple rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-purple"
              placeholder="MM/AA"
              maxlength="5"
            />
          </div>
          <div class="text-left">
            <label for="cardCVC" class="block text-gray-300 mb-2">CVC:</label>
            <input
              type="text"
              id="cardCVC"
              class="w-full p-3 bg-gray-800 border border-neon-purple text-neon-purple rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-purple"
              placeholder="XXX"
              maxlength="4"
            />
          </div>
        </div>

        <div class="mb-6">
          <label for="cardAmountUSD" class="block text-left text-gray-300 mb-2"
            >Valor em USD:</label
          >
          <input
            type="number"
            id="cardAmountUSD"
            class="w-full p-3 bg-gray-800 border border-neon-blue text-neon-blue rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue"
            placeholder="Min $ 10.00"
            min="10"
            step="0.01"
          />
        </div>
        <p class="text-lg text-gray-300 mb-6">
          Você receberá aproximadamente:
          <span id="receivedLNRFromCard" class="neon-text-blue font-bold"
            >0 LNR</span
          >
        </p>

        <div class="mb-6">
          <label
            for="cardSolanaAddress"
            class="block text-left text-gray-300 mb-2"
            >Sua Carteira Solana para Receber LNR:</label
          >
          <input
            type="text"
            id="cardSolanaAddress"
            class="w-full p-3 bg-gray-800 border border-neon-green text-neon-green rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-green"
            placeholder="Ex: GsF...seuEnderecoAqui"
          />
        </div>

        <div class="flex justify-center space-x-4">
          <button
            onclick="confirmStripePayment()"
            class="neon-button px-6 py-3 text-lg bg-blue-600 hover:bg-blue-500"
          >
            Confirmar Pagamento (Simulado)
          </button>
          <button
            onclick="hideStripePaymentModal()"
            class="bg-gray-700 text-gray-200 px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-300"
          >
            Cancelar
          </button>
        </div>
        <p class="text-gray-500 text-sm mt-4">
          <span style="color: var(--red-alert)">Aviso:</span> Este é um ambiente
          de demonstração. Em um cenário real, a integração com o Stripe e a
          automação do envio de tokens exigiria um backend seguro.
        </p>
      </div>
    </div>

    <!-- Emoji container -->
    <div
      id="catEmojiContainer"
      class="fixed inset-0 flex items-center justify-center z-[100] pointer-events-none hidden"
    >
      <span
        id="catEmoji"
        class="text-8xl opacity-0 transform scale-0 transition-all duration-500 ease-out"
        >🐱</span
      >
    </div>

    <script>
      // --- GLOBAL VARIABLES & CONSTANTS ---
      let connectedWalletType = null; // Stores 'solana', 'ton', 'metamask', or null
      let connectedWalletAddress = null; // Stores the connected wallet's public key/address

      let socialWalletPublicKey = null; // Stores the simulated social-linked wallet public key
      let socialWalletLunaroBalance = 10000; // Simulated LUNARO balance for social wallet

      // Constants from Rust contract (adjusted for JS)
      const LAMPORTS_PER_SOL = 1000000000; // 1 SOL = 1,000,000,000 lamports
      const TOKENS_PER_SOL = 1000; // 1 SOL = 1000 LNR (for direct SOL transfer)
      const LNR_PRICE_USD = 0.015; // 1 LNR = $0.015 USD

      const MAX_CAP_SOL_AMOUNT = 3500000; // 3.5 million SOL
      const MAX_CAP_SOL_IN_LAMPARTS = MAX_CAP_SOL_AMOUNT * LAMPORTS_PER_SOL; // Hard cap in lamports

      const TOTAL_LNR_FOR_PRESALE = MAX_CAP_SOL_AMOUNT * TOKENS_PER_SOL; // Total LNR available at hard cap

      let raisedAmountInLamports = 0; // Total SOL raised in lamports
      let tokensSold = 0; // Total LNR tokens sold

      const countdownDate = new Date("May 30, 2025 18:00:00").getTime(); // Example date: May 30, 2025 6 PM - Adjust this!

      // Simulated DEX voting results
      let raydiumVotes = 0;
      let meteoraVotes = 0;

      // Simulated NFT voting results
      let cyberpunkThemeVotes = 0;
      let mysticalThemeVotes = 0;
      let galacticThemeVotes = 0;
      let pixelArtVotes = 0;
      let realisticArtVotes = 0;
      let abstractArtVotes = 0;
      let stakingUtilityVotes = 0;
      let eventUtilityVotes = 0;
      let gameUtilityVotes = 0;

      // Simulated Game Style voting results
      let arcadeGameVotes = 0;
      let strategyGameVotes = 0;
      let adventureGameVotes = 0;

      // Simulated Solana Multisig Address for direct SOL transfers
      const LUNARO_MULTISIG_WALLET = "9u9K...SuaCarteiraLunaroAqui"; // Placeholder for actual Squads multisig

      // Interval IDs for clearing
      let presaleProgressIntervalId;
      let countdownIntervalId;

      // --- DOM ELEMENTS (Declared here, but assigned inside window.onload) ---
      let connectWalletBtn;
      let connectedWalletDisplay;
      let walletSelectionModal;
      let selectSolanaWalletBtn;
      let selectTonWalletBtn;
      let selectMetamaskWalletBtn;

      let walletStatus;
      let connectedWalletAddressDisplay; // This is the DOM element for displaying the address

      let progressBarFill;
      let raisedAmountDisplay;
      let tokensRemainingDisplay;
      let countdownElement;
      let daysElement;
      let hoursElement;
      let minutesElement;
      let secondsElement;
      let messageBox;
      let messageBoxTitle;
      let messageBoxContent;

      let buyWithWalletBtn;
      let buyWithPixBtn;
      let buyWithCardBtn;

      let paymentMethodModal;
      let purchaseModal;
      let pixPaymentModal;
      let stripePaymentModal;

      let modalWalletAddress;
      let purchaseAmountInput;
      let receivedLNRDisplay;

      let pixKey;
      let pixAmountBRLInput;
      let receivedLNRFromPixDisplay;
      let pixSolanaAddressInput;

      let cardNameInput;
      let cardNumberInput;
      let cardExpiryInput;
      let cardCVCInput;
      let cardAmountUSDInput;
      let receivedLNRFromCardDisplay;
      let cardSolanaAddressInput;

      let socialWalletArea;
      let socialWalletAddressDisplay;
      let socialWalletBalanceDisplay;
      let recipientAddressInput;
      let sendAmountInput;

      let chatWindow;
      let chatInput;
      let sendChatBtn;
      let chatLoading;

      let newsletterForm;
      let newsletterEmailInput;
      let newsletterMessage;

      let faqItems;

      let voteRaydiumBtn;
      let voteMeteoraBtn;
      let voteResultDisplay;
      let raydiumVotesDisplay;
      let meteoraVotesDisplay;

      let voteThemeCyberpunkBtn;
      let voteThemeMysticalBtn;
      let voteThemeGalacticBtn;
      let nftThemeVoteResult;
      let cyberpunkThemeVotesDisplay;
      let mysticalThemeVotesDisplay;
      let galacticThemeVotesDisplay;

      let voteArtPixelBtn;
      let voteArtRealisticBtn;
      let voteArtAbstractBtn;
      let nftArtStyleVoteResult;
      let pixelArtVotesDisplay;
      let realisticArtVotesDisplay;
      let abstractArtVotesDisplay;

      let voteUtilityStakingBtn;
      let voteUtilityEventBtn;
      let voteUtilityGameBtn;
      let nftUtilityVoteResult;
      let stakingUtilityVotesDisplay;
      let eventUtilityVotesDisplay;
      let gameUtilityVotesDisplay;

      let voteGameArcadeBtn;
      let voteGameStrategyBtn;
      let voteGameAdventureBtn;
      let gameStyleVoteResult;
      let arcadeGameVotesDisplay;
      let strategyGameVotesDisplay;
      let adventureGameVotesDisplay;

      let contentPromptInput;
      let generateContentBtn;
      let contentLoading;
      let generatedContentOutput;

      let generateNftBtn;
      let generatedNftImage;
      let nftDescription;
      let nftLoading;

      let catEmojiContainer;
      let catEmoji;

      // --- UTILITY FUNCTIONS ---

      // Universal Message Box Functions
      function showMessageBox(title, content) {
        if (messageBoxTitle) messageBoxTitle.textContent = title;
        if (messageBoxContent) messageBoxContent.textContent = content;
        if (messageBox) messageBox.classList.remove("hidden");
      }

      function hideMessageBox() {
        if (messageBox) messageBox.classList.add("hidden");
      }

      // Function to detect if Solana wallet (e.g., Phantom, Solflare) is installed
      function isSolanaWalletInstalled() {
        return (
          window.solana && (window.solana.isPhantom || window.solana.isSolflare)
        );
      }

      // Function to detect if TON wallet (e.g., Tonkeeper, MyTonWallet) is installed
      function isTonWalletInstalled() {
        return window.ton; // Tonkeeper injects `window.ton`
      }

      // Function to detect if MetaMask (EVM) is installed
      function isMetamaskInstalled() {
        return window.ethereum && window.ethereum.isMetaMask;
      }

      // Function to copy text to clipboard
      function copyToClipboard(elementId) {
        const element = document.getElementById(elementId);
        if (!element) {
          console.error(`Element with ID '${elementId}' not found.`);
          return;
        }
        const textToCopy = element.textContent || element.value; // Works for span and input
        const tempInput = document.createElement("textarea");
        tempInput.value = textToCopy;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);
        showMessageBox(
          "Copiado!",
          `"${textToCopy}" copiado para a área de transferência.`
        );
      }

      // --- PRESALE PROGRESS FUNCTIONS ---

      function updatePresaleProgress() {
        // Ensure elements are available before accessing their properties
        if (
          !progressBarFill ||
          !raisedAmountDisplay ||
          !tokensRemainingDisplay
        ) {
          console.warn("Presale progress elements not yet available.");
          return;
        }

        const progressPercentage =
          (raisedAmountInLamports / MAX_CAP_SOL_IN_LAMPARTS) * 100;
        progressBarFill.style.width = `${progressPercentage}%`;
        raisedAmountDisplay.textContent = `${(
          raisedAmountInLamports / LAMPORTS_PER_SOL
        ).toLocaleString(undefined, {
          maximumFractionDigits: 2,
        })} SOL Arrecadados`;
        tokensRemainingDisplay.textContent = `${(
          TOTAL_LNR_FOR_PRESALE - tokensSold
        ).toLocaleString()} LNR Restantes`;

        if (raisedAmountInLamports >= MAX_CAP_SOL_IN_LAMPARTS) {
          progressBarFill.style.backgroundColor = "var(--neon-purple)";
          progressBarFill.style.boxShadow = "0 0 8px var(--neon-purple)";
          if (buyWithWalletBtn) buyWithWalletBtn.disabled = true;
          if (buyWithPixBtn) buyWithPixBtn.disabled = true;
          if (buyWithCardBtn) buyWithCardBtn.disabled = true;
          showMessageBox(
            "Pré-Vendas Encerradas",
            "O Hard Cap foi atingido! Agradecemos a todos os participantes."
          );
          clearInterval(presaleProgressIntervalId); // Stop further updates
          clearInterval(countdownIntervalId); // Stop countdown as well
          if (countdownElement)
            countdownElement.innerHTML =
              "<span class='neon-text-purple'>PRÉ-VENDAS ENCERRADAS!</span>";
        }
      }

      // --- COUNTDOWN TIMER FUNCTIONS ---

      function updateCountdown() {
        // Ensure elements are available before accessing their properties
        if (
          !daysElement ||
          !hoursElement ||
          !minutesElement ||
          !secondsElement ||
          !countdownElement
        ) {
          console.warn("Countdown elements not yet available.");
          return;
        }

        const now = new Date().getTime();
        const distance = countdownDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the elements
        daysElement.innerHTML = String(days).padStart(2, "0");
        hoursElement.innerHTML = String(hours).padStart(2, "0");
        minutesElement.innerHTML = String(minutes).padStart(2, "0");
        secondsElement.innerHTML = String(seconds).padStart(2, "0");

        // If the countdown is over, update status
        if (distance < 0) {
          clearInterval(countdownIntervalId); // Clear the interval
          countdownElement.innerHTML =
            "<span class='neon-text-green'>PRÉ-VENDAS AO VIVO!</span>";
          // Only enable buttons if presale is not over
          if (raisedAmountInLamports < MAX_CAP_SOL_IN_LAMPARTS) {
            if (buyWithWalletBtn) buyWithWalletBtn.disabled = false;
            if (buyWithPixBtn) buyWithPixBtn.disabled = false;
            if (buyWithCardBtn) buyWithCardBtn.disabled = false;
          }
        } else {
          // Ensure buttons are disabled until countdown is over (or if presale is already over)
          if (raisedAmountInLamports < MAX_CAP_SOL_IN_LAMPARTS) {
            if (buyWithWalletBtn) buyWithWalletBtn.disabled = true;
            if (buyWithPixBtn) buyWithPixBtn.disabled = true;
            if (buyWithCardBtn) buyWithCardBtn.disabled = true;
          }
        }
        updateWalletUI(); // Call this to ensure button state is correct if countdown finishes
      }

      // --- WALLET SELECTION & CONNECTION FUNCTIONS ---

      function showWalletSelectionModal() {
        if (walletSelectionModal)
          walletSelectionModal.classList.remove("hidden");
      }

      function hideWalletSelectionModal() {
        if (walletSelectionModal) walletSelectionModal.classList.add("hidden");
      }

      async function connectSolanaWalletActual() {
        hideWalletSelectionModal();
        if (!isSolanaWalletInstalled()) {
          showMessageBox(
            "Carteira Solana Não Encontrada",
            "Por favor, instale uma carteira Solana como Phantom ou Solflare para conectar."
          );
          return;
        }

        try {
          const resp = await window.solana.connect();
          connectedWalletAddress = resp.publicKey.toBase58();
          connectedWalletType = "solana";
          updateWalletUI();
          showMessageBox(
            "Carteira Solana Conectada!",
            `Sua carteira ${connectedWalletAddress.substring(
              0,
              6
            )}...${connectedWalletAddress.slice(-4)} foi conectada com sucesso.`
          );
        } catch (err) {
          console.error("Erro ao conectar a carteira Solana:", err);
          showMessageBox(
            "Conexão Recusada",
            "A conexão com a carteira Solana foi recusada ou ocorreu um erro."
          );
          connectedWalletAddress = null;
          connectedWalletType = null;
          updateWalletUI();
        }
      }

      async function connectTonWalletActual() {
        hideWalletSelectionModal();
        if (!isTonWalletInstalled()) {
          showMessageBox(
            "Carteira TON Não Encontrada",
            "Por favor, instale uma carteira TON como Tonkeeper ou MyTonWallet para conectar."
          );
          return;
        }

        try {
          // Tonkeeper/MyTonWallet connection logic (simplified simulation)
          // In a real app, you'd use the TON Connect 2.0 protocol
          // For this simulation, we'll just generate a fake address.
          connectedWalletAddress =
            "0:fake_ton_address_" + Math.random().toString(36).substring(2, 15);
          connectedWalletType = "ton";
          updateWalletUI();
          showMessageBox(
            "Carteira TON Conectada!",
            `Sua carteira TON ${connectedWalletAddress.substring(
              0,
              6
            )}...${connectedWalletAddress.slice(-4)} foi conectada com sucesso.`
          );
        } catch (err) {
          console.error("Erro ao conectar a carteira TON:", err);
          showMessageBox(
            "Conexão Recusada",
            "A conexão com a carteira TON foi recusada ou ocorreu um erro."
          );
          connectedWalletAddress = null;
          connectedWalletType = null;
          updateWalletUI();
        }
      }

      async function connectMetamaskWalletActual() {
        hideWalletSelectionModal();
        if (!isMetamaskInstalled()) {
          showMessageBox(
            "MetaMask Não Encontrada",
            "Por favor, instale a extensão MetaMask para conectar."
          );
          return;
        }

        try {
          const accounts = await window.ethereum.request({
            method: "eth_requestAccounts",
          });
          connectedWalletAddress = accounts[0];
          connectedWalletType = "metamask";
          updateWalletUI();
          showMessageBox(
            "MetaMask Conectada!",
            `Sua carteira ${connectedWalletAddress.substring(
              0,
              6
            )}...${connectedWalletAddress.slice(-4)} foi conectada com sucesso.`
          );

          // Listen for account changes
          window.ethereum.on("accountsChanged", (newAccounts) => {
            if (newAccounts.length > 0) {
              connectedWalletAddress = newAccounts[0];
              updateWalletUI();
              console.log("MetaMask account changed:", newAccounts[0]);
            } else {
              disconnectWallet(); // User disconnected from MetaMask
              console.log("MetaMask disconnected.");
            }
          });
        } catch (err) {
          console.error("Erro ao conectar a MetaMask:", err);
          showMessageBox(
            "Conexão Recusada",
            "A conexão com a MetaMask foi recusada ou ocorreu um erro."
          );
          connectedWalletAddress = null;
          connectedWalletType = null;
          updateWalletUI();
        }
      }

      function disconnectWallet() {
        // Disconnect logic depends on the wallet type
        if (
          connectedWalletType === "solana" &&
          window.solana &&
          window.solana.disconnect
        ) {
          window.solana.disconnect();
        } else if (
          connectedWalletType === "metamask" &&
          window.ethereum &&
          window.ethereum.isMetaMask
        ) {
          // MetaMask doesn't have a direct 'disconnect' method from the dApp side.
          // Disconnecting means clearing the connected account in our app's state.
          // The user needs to manually disconnect from the MetaMask extension.
          console.log(
            "MetaMask: Disconnect initiated. User needs to manually disconnect from the extension if desired."
          );
        } else if (connectedWalletType === "ton") {
          // Simulated TON disconnect
          console.log("TON Wallet: Simulated disconnect.");
        }

        connectedWalletAddress = null;
        connectedWalletType = null;
        updateWalletUI();
        showMessageBox(
          "Carteira Desconectada",
          "Sua carteira foi desconectada."
        );
      }

      function updateWalletUI() {
        if (!connectedWalletDisplay || !connectWalletBtn || !walletStatus)
          return;

        if (connectedWalletAddress && connectedWalletType) {
          connectWalletBtn.classList.add("hidden");
          connectedWalletDisplay.classList.remove("hidden");
          connectedWalletDisplay.textContent = `${connectedWalletType.toUpperCase()}: ${connectedWalletAddress.substring(
            0,
            4
          )}...${connectedWalletAddress.slice(-4)}`;
          connectedWalletDisplay.onclick = disconnectWallet; // Click to disconnect

          walletStatus.innerHTML = `Status da Carteira: <span class="neon-text-green">Conectada (${connectedWalletType.toUpperCase()})</span>`;
          if (connectedWalletAddressDisplay) {
            // Ensure this element exists
            connectedWalletAddressDisplay.classList.remove("hidden");
            connectedWalletAddressDisplay.textContent = `Endereço: ${connectedWalletAddress}`;
          }

          // Enable purchase button if connected and presale is active
          if (buyWithWalletBtn) {
            buyWithWalletBtn.disabled = false;
            buyWithWalletBtn.textContent = `Comprar com Carteira (${connectedWalletType.toUpperCase()})`;
          }
        } else {
          connectWalletBtn.classList.remove("hidden");
          connectedWalletDisplay.classList.add("hidden");
          connectedWalletDisplay.textContent = "";
          connectedWalletDisplay.onclick = null; // Remove handler when disconnected

          walletStatus.innerHTML = `Status da Carteira: <span class="neon-text-purple">Desconectada</span>`;
          if (connectedWalletAddressDisplay)
            connectedWalletAddressDisplay.classList.add("hidden");

          // Disable purchase button if not connected
          if (buyWithWalletBtn) {
            buyWithWalletBtn.disabled = true;
            buyWithWalletBtn.textContent = "Comprar com Carteira (Conectar)";
          }
        }
        // Always ensure all purchase buttons are disabled if presale is over
        if (raisedAmountInLamports >= MAX_CAP_SOL_IN_LAMPARTS) {
          if (buyWithWalletBtn) buyWithWalletBtn.disabled = true;
          if (buyWithPixBtn) buyWithPixBtn.disabled = true;
          if (buyWithCardBtn) buyWithCardBtn.disabled = true;
        }
      }

      // --- PAYMENT METHOD MODALS LOGIC ---
      function showPaymentMethodModal() {
        if (paymentMethodModal) paymentMethodModal.classList.remove("hidden");
      }

      function hidePaymentMethodModal() {
        if (paymentMethodModal) paymentMethodModal.classList.add("hidden");
      }

      // SOL Wallet Purchase Modal (Existing, but now called from selection modal)
      function showPurchaseModal() {
        hidePaymentMethodModal(); // Hide selection modal
        if (!connectedWalletAddress) {
          showMessageBox(
            "Carteira Não Conectada",
            "Por favor, conecte sua carteira para continuar a compra com SOL/EVM."
          );
          return;
        }
        if (modalWalletAddress)
          modalWalletAddress.textContent = connectedWalletAddress;
        if (purchaseAmountInput) purchaseAmountInput.value = ""; // Clear previous input
        if (receivedLNRDisplay) receivedLNRDisplay.textContent = "0 LNR";
        if (purchaseModal) purchaseModal.classList.remove("hidden");
      }

      function hidePurchaseModal() {
        if (purchaseModal) purchaseModal.classList.add("hidden");
      }

      function updateReceivedLNR() {
        if (!purchaseAmountInput || !receivedLNRDisplay) return;

        const amountSol = parseFloat(purchaseAmountInput.value);
        if (isNaN(amountSol) || amountSol <= 0) {
          receivedLNRDisplay.textContent = "0 LNR";
          return;
        }
        const received = amountSol * TOKENS_PER_SOL;
        receivedLNRDisplay.textContent = `${received.toLocaleString(undefined, {
          maximumFractionDigits: 2,
        })} LNR`;
      }

      async function confirmPurchase() {
        if (!purchaseAmountInput) return;

        const amountSol = parseFloat(purchaseAmountInput.value);
        if (isNaN(amountSol) || amountSol < 0.01) {
          // Enforce min 0.01 SOL
          showMessageBox(
            "Valor Inválido",
            "Por favor, insira um valor válido para a compra (mínimo de 0.01 SOL)."
          );
          return;
        }

        hidePurchaseModal(); // Close purchase modal

        // Simulate transaction process
        showMessageBox(
          "Processando Compra...",
          `Simulando transação de ${amountSol} SOL. Por favor, confirme na sua carteira (se fosse uma transação real).`
        );

        // Trigger cat emoji animation
        showCatEmoji();

        // Simulate network delay
        setTimeout(() => {
          // In a real scenario, you'd send a transaction to a smart contract here.
          // For this simulation, we just update the progress directly.
          raisedAmountInLamports += amountSol * LAMPORTS_PER_SOL; // Add to total raised in lamports
          tokensSold += amountSol * TOKENS_PER_SOL; // Add to total LNR tokens sold
          updatePresaleProgress();

          // Also update the simulated social wallet balance
          socialWalletLunaroBalance += amountSol * TOKENS_PER_SOL;
          updateSocialWalletUI();

          showMessageBox(
            "Compra Concluída!",
            `Parabéns! Você simulou a compra de ${amountSol} SOL e receberá aproximadamente ${(
              amountSol * TOKENS_PER_SOL
            ).toLocaleString(undefined, {
              maximumFractionDigits: 2,
            })} LNR. Os tokens seriam enviados para ${connectedWalletAddress.substring(
              0,
              6
            )}...${connectedWalletAddress.slice(-4)}.`
          );
        }, 3000); // Simulate 3 seconds transaction time
      }

      // PIX Payment Logic
      function showPixPaymentModal() {
        hidePaymentMethodModal(); // Hide selection modal
        if (pixAmountBRLInput) pixAmountBRLInput.value = "";
        if (receivedLNRFromPixDisplay)
          receivedLNRFromPixDisplay.textContent = "0 LNR";
        if (pixSolanaAddressInput)
          pixSolanaAddressInput.value = connectedWalletAddress || ""; // Pre-fill if Solana wallet is connected
        if (pixPaymentModal) pixPaymentModal.classList.remove("hidden");
      }

      function hidePixPaymentModal() {
        if (pixPaymentModal) pixPaymentModal.classList.add("hidden");
      }

      async function confirmPixPayment() {
        if (
          !pixAmountBRLInput ||
          !pixSolanaAddressInput ||
          !receivedLNRFromPixDisplay
        )
          return;

        const amountBRL = parseFloat(pixAmountBRLInput.value);
        const solanaAddress = pixSolanaAddressInput.value.trim();

        if (isNaN(amountBRL) || amountBRL < 10) {
          showMessageBox(
            "Valor Inválido",
            "Por favor, insira um valor válido para a compra (mínimo de R$ 10,00)."
          );
          return;
        }
        if (!solanaAddress) {
          showMessageBox(
            "Endereço da Carteira Necessário",
            "Por favor, insira o endereço da sua carteira Solana para receber os tokens LNR."
          );
          return;
        }
        // Basic Solana address validation (starts with 1-9 or A-Z, length approx 32-44)
        if (!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(solanaAddress)) {
          showMessageBox(
            "Endereço Solana Inválido",
            "O endereço da carteira Solana fornecido não é válido."
          );
          return;
        }

        hidePixPaymentModal();
        showMessageBox(
          "Pagamento PIX Confirmado (Simulado)",
          `Processando seu pagamento de R$ ${amountBRL.toFixed(
            2
          )} via PIX. Seus LNRs serão enviados automaticamente para ${solanaAddress.substring(
            0,
            6
          )}...${solanaAddress.slice(-4)}.`
        );
        showCatEmoji();

        setTimeout(() => {
          // Simulate updating presale progress based on BRL amount converted to SOL equivalent
          const solEquivalent =
            amountBRL / 5.0 / LNR_PRICE_USD / TOKENS_PER_SOL; // Rough conversion
          raisedAmountInLamports += solEquivalent * LAMPORTS_PER_SOL;
          tokensSold += amountBRL / 5.0 / LNR_PRICE_USD;
          updatePresaleProgress();
          socialWalletLunaroBalance += amountBRL / 5.0 / LNR_PRICE_USD;
          updateSocialWalletUI();

          showMessageBox(
            "LNRs Enviados!",
            `Parabéns! Você simulou a compra de LNR via PIX. Seus tokens foram "enviados" para ${solanaAddress.substring(
              0,
              6
            )}...${solanaAddress.slice(-4)}.`
          );
        }, 3000);
      }

      // Stripe Credit Card Logic
      function showStripePaymentModal() {
        hidePaymentMethodModal(); // Hide selection modal
        if (cardNameInput) cardNameInput.value = "";
        if (cardNumberInput) cardNumberInput.value = "";
        if (cardExpiryInput) cardExpiryInput.value = "";
        if (cardCVCInput) cardCVCInput.value = "";
        if (cardAmountUSDInput) cardAmountUSDInput.value = "";
        if (receivedLNRFromCardDisplay)
          receivedLNRFromCardDisplay.textContent = "0 LNR";
        if (cardSolanaAddressInput)
          cardSolanaAddressInput.value = connectedWalletAddress || ""; // Pre-fill if Solana wallet is connected
        if (stripePaymentModal) stripePaymentModal.classList.remove("hidden");
      }

      function hideStripePaymentModal() {
        if (stripePaymentModal) stripePaymentModal.classList.add("hidden");
      }

      async function confirmStripePayment() {
        if (
          !cardNameInput ||
          !cardNumberInput ||
          !cardExpiryInput ||
          !cardCVCInput ||
          !cardAmountUSDInput ||
          !cardSolanaAddressInput ||
          !receivedLNRFromCardDisplay
        )
          return;

        const name = cardNameInput.value.trim();
        const number = cardNumberInput.value.trim();
        const expiry = cardExpiryInput.value.trim();
        const cvc = cardCVCInput.value.trim();
        const amountUSD = parseFloat(cardAmountUSDInput.value);
        const solanaAddress = cardSolanaAddressInput.value.trim();

        if (!name || !number || !expiry || !cvc) {
          showMessageBox(
            "Dados do Cartão Incompletos",
            "Por favor, preencha todos os campos do cartão."
          );
          return;
        }
        if (isNaN(amountUSD) || amountUSD < 10) {
          showMessageBox(
            "Valor Inválido",
            "Por favor, insira um valor válido para a compra (mínimo de $ 10.00 USD)."
          );
          return;
        }
        if (!solanaAddress) {
          showMessageBox(
            "Endereço da Carteira Necessário",
            "Por favor, insira o endereço da sua carteira Solana para receber os tokens LNR."
          );
          return;
        }
        if (!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(solanaAddress)) {
          showMessageBox(
            "Endereço Solana Inválido",
            "O endereço da carteira Solana fornecido não é válido."
          );
          return;
        }

        hideStripePaymentModal();
        showMessageBox(
          "Pagamento com Cartão Confirmado (Simulado)",
          `Processando seu pagamento de $ ${amountUSD.toFixed(
            2
          )} via Cartão de Crédito. Seus LNRs serão enviados automaticamente para ${solanaAddress.substring(
            0,
            6
          )}...${solanaAddress.slice(-4)}.`
        );
        showCatEmoji();

        setTimeout(() => {
          // Simulate updating presale progress based on USD amount converted to SOL equivalent
          const solEquivalent = amountUSD / LNR_PRICE_USD / TOKENS_PER_SOL; // Rough conversion
          raisedAmountInLamports += solEquivalent * LAMPORTS_PER_SOL;
          tokensSold += amountUSD / LNR_PRICE_USD;
          updatePresaleProgress();
          socialWalletLunaroBalance += amountUSD / LNR_PRICE_USD;
          updateSocialWalletUI();

          showMessageBox(
            "LNRs Enviados!",
            `Parabéns! Você simulou a compra de LNR via Cartão de Crédito. Seus tokens foram "enviados" para ${solanaAddress.substring(
              0,
              6
            )}...${solanaAddress.slice(-4)}.`
          );
        }, 3000);
      }

      // --- CAT EMOJI ANIMATION ---
      function showCatEmoji() {
        if (!catEmojiContainer || !catEmoji) return;
        catEmojiContainer.classList.remove("hidden");
        catEmoji.classList.remove("opacity-0", "scale-0");
        catEmoji.classList.add("emoji-animate");

        setTimeout(() => {
          if (catEmoji) catEmoji.classList.remove("emoji-animate");
          if (catEmoji) catEmoji.classList.add("opacity-0", "scale-0");
          if (catEmojiContainer) catEmojiContainer.classList.add("hidden");
        }, 1500); // Animation duration
      }

      // --- SOCIAL LOGIN & WALLET FUNCTIONS (SIMULATED) ---

      function generateRandomAddress(prefix = "0x") {
        // This is a simplified simulation. Real addresses are derived from keypairs.
        // For demonstration, we'll create a string that looks like one.
        const chars = "0123456789abcdef";
        let address = prefix;
        for (let i = 0; i < 40; i++) {
          // For EVM, 40 hex chars after 0x
          address += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return address;
      }

      function connectSocialWallet(provider) {
        // Simulate a delay for login process
        showMessageBox("Conectando...", `Tentando login com ${provider}...`);

        setTimeout(() => {
          // In a real scenario, this would involve OAuth flow and a backend
          // to securely generate/retrieve a Solana keypair for the user.
          socialWalletPublicKey = generateRandomAddress("G"); // Simulate Solana-like address for social wallet
          updateSocialWalletUI();
          showMessageBox(
            "Login Social Concluído!",
            `Você se conectou com ${provider} e sua carteira LUNARO vinculada foi ativada: ${socialWalletPublicKey.substring(
              0,
              6
            )}...${socialWalletPublicKey.slice(-4)}`
          );
        }, 2000);
      }

      function updateSocialWalletUI() {
        if (
          !socialWalletArea ||
          !socialWalletAddressDisplay ||
          !socialWalletBalanceDisplay
        )
          return;

        if (socialWalletPublicKey) {
          socialWalletArea.classList.remove("hidden");
          socialWalletAddressDisplay.textContent = socialWalletPublicKey;
          socialWalletBalanceDisplay.textContent = `${socialWalletLunaroBalance.toLocaleString(
            undefined,
            { maximumFractionDigits: 2 }
          )} LNR`;
        } else {
          socialWalletArea.classList.add("hidden");
          socialWalletAddressDisplay.textContent = "";
          socialWalletBalanceDisplay.textContent = "0 LNR";
        }
      }

      async function sendLunaro() {
        if (!recipientAddressInput || !sendAmountInput) return;

        const recipient = recipientAddressInput.value.trim();
        const amount = parseFloat(sendAmountInput.value);

        if (!socialWalletPublicKey) {
          showMessageBox(
            "Carteira Social Não Conectada",
            "Por favor, faça login com uma conta social para enviar LUNARO."
          );
          return;
        }
        if (!recipient) {
          showMessageBox(
            "Endereço Inválido",
            "Por favor, insira o endereço do destinatário."
          );
          return;
        }
        if (isNaN(amount) || amount <= 0) {
          showMessageBox(
            "Quantidade Inválida",
            "Por favor, insira uma quantidade válida para enviar."
          );
          return;
        }
        if (amount > socialWalletLunaroBalance) {
          showMessageBox(
            "Saldo Insuficiente",
            "Você não tem LUNARO suficiente em sua carteira vinculada."
          );
          return;
        }

        showMessageBox(
          "Enviando LUNARO...",
          `Simulando envio de ${amount} LNR para ${recipient.substring(
            0,
            0
          )}...${recipient.slice(-4)}`
        );

        setTimeout(() => {
          // In a real scenario, this would involve:
          // 1. Backend call to sign and send a Solana transaction
          // 2. Using the private key associated with the social wallet (securely stored on backend/WaaS)
          // 3. Interacting with the Solana blockchain to transfer the actual tokens.

          socialWalletLunaroBalance -= amount;
          updateSocialWalletUI();
          if (recipientAddressInput) recipientAddressInput.value = "";
          if (sendAmountInput) sendAmountInput.value = "";

          showMessageBox(
            "LUNARO Enviado!",
            `Você simulou o envio de ${amount} LNR para ${recipient.substring(
              0,
              6
            )}...${recipient.slice(
              -4
            )}. Saldo restante: ${socialWalletLunaroBalance.toLocaleString(
              undefined,
              { maximumFractionDigits: 2 }
            )} LNR.`
          );
        }, 3000);
      }

      // --- DEX VOTING LOGIC ---
      function updateDexVotesUI() {
        if (!raydiumVotesDisplay || !meteoraVotesDisplay || !voteResultDisplay)
          return;
        raydiumVotesDisplay.textContent = raydiumVotes;
        meteoraVotesDisplay.textContent = meteoraVotes;
        voteResultDisplay.classList.remove("hidden");
      }

      // --- NFT VOTING LOGIC ---
      function updateNftThemeVotesUI() {
        if (
          !cyberpunkThemeVotesDisplay ||
          !mysticalThemeVotesDisplay ||
          !galacticThemeVotesDisplay ||
          !nftThemeVoteResult
        )
          return;
        cyberpunkThemeVotesDisplay.textContent = cyberpunkThemeVotes;
        mysticalThemeVotesDisplay.textContent = mysticalThemeVotes;
        galacticThemeVotesDisplay.textContent = galacticThemeVotes;
        nftThemeVoteResult.classList.remove("hidden");
      }

      function updateNftArtStyleVotesUI() {
        if (
          !pixelArtVotesDisplay ||
          !realisticArtVotesDisplay ||
          !abstractArtVotesDisplay ||
          !nftArtStyleVoteResult
        )
          return;
        pixelArtVotesDisplay.textContent = pixelArtVotes;
        realisticArtVotesDisplay.textContent = realisticArtVotes;
        abstractArtVotesDisplay.textContent = abstractArtVotes;
        nftArtStyleVoteResult.classList.remove("hidden");
      }

      function updateNftUtilityVotesUI() {
        if (
          !stakingUtilityVotesDisplay ||
          !eventUtilityVotesDisplay ||
          !gameUtilityVotesDisplay ||
          !nftUtilityVoteResult
        )
          return;
        stakingUtilityVotesDisplay.textContent = stakingUtilityVotes;
        eventUtilityVotesDisplay.textContent = eventUtilityVotes;
        gameUtilityVotesDisplay.textContent = gameUtilityVotes;
        nftUtilityVoteResult.classList.remove("hidden");
      }

      // --- GAME STYLE VOTING LOGIC ---
      function updateGameStyleVotesUI() {
        if (
          !arcadeGameVotesDisplay ||
          !strategyGameVotesDisplay ||
          !adventureGameVotesDisplay ||
          !gameStyleVoteResult
        )
          return;
        arcadeGameVotesDisplay.textContent = arcadeGameVotes;
        strategyGameVotesDisplay.textContent = strategyGameVotes;
        adventureGameVotesDisplay.textContent = adventureGameVotes;
        gameStyleVoteResult.classList.remove("hidden");
      }

      // --- AI SUPPORT CHATBOT FUNCTIONS ---
      async function sendQuestionToAI() {
        if (!chatInput || !chatLoading || !sendChatBtn || !chatWindow) {
          console.error("Um ou mais elementos do chat não foram encontrados.");
          return;
        }

        const userQuestion = chatInput.value.trim();
        if (!userQuestion) {
          showMessageBox(
            "Pergunta Vazia",
            "Por favor, digite sua pergunta para a Luna."
          );
          return;
        }

        // Display user message
        appendMessage(userQuestion, "user");
        chatInput.value = ""; // Clear input
        chatLoading.classList.remove("hidden"); // Show loading indicator
        sendChatBtn.disabled = true; // Disable send button

        // Prepare prompt for Gemini API
        const prompt = `Você é a Luna, uma assistente de IA para o projeto de criptomoeda LUNARO. Seu objetivo é fornecer suporte e informações sobre o site e o projeto. O LUNARO é uma moeda que transforma a energia da atenção em valor real, construída nas blockchains Solana e TON, com funcionalidades como mineração, staking, recompensas gamificadas, NFTs co-criados pela comunidade e um futuro mini-jogo Web3. O fornecimento total é de 5.000.000.000 LNR. O preço de pré-venda simulado é de 0.015 USD por LNR. Existem mecanismos deflacionários (0.5% de queima por transação, queima de tokens não vendidos). LUNARO já foi lançado na rede TON. A comunidade vota em temas de NFT e estilos de jogo.

            Os métodos de compra disponíveis no site são:
            1. Comprar com Carteira Solana (SOL): O usuário conecta a carteira e envia SOL para o contrato de pré-venda (simulado). Recebe 1000 LNR por 1 SOL.
            2. Comprar com PIX (Mercado Pago): O usuário escaneia um QR Code ou usa uma chave PIX para pagar em BRL (simulado). Após o pagamento, ele informa o endereço da carteira Solana para receber os LNRs.
            3. Comprar com Cartão de Crédito (Stripe): O usuário preenche o formulário de cartão de crédito para pagar em USD (simulado). Após o pagamento, ele informa o endereço da carteira Solana para receber os LNRs.

            Se o usuário comprar mais de 5 SOL (equivalente a 5000 LNR), ele ganha um brinde físico exclusivo (camiseta, boné ou copo).

            Você deve responder de forma amigável, útil e concisa, baseando-se *apenas* nas informações fornecidas sobre o projeto LUNARO. Se a pergunta for fora do escopo do LUNARO ou muito genérica sobre cripto, diga que você só pode ajudar com informações específicas sobre LUNARO.

            Se o usuário pedir para você "fazer" algo no site (como "conectar minha carteira" ou "comprar tokens"), explique como ele pode fazer isso e sugira que ele clique no botão apropriado, pois você é uma IA e não pode interagir diretamente com a interface do usuário.

            Pergunta do usuário: "${userQuestion}"`;

        try {
          let chatHistory = [];
          chatHistory.push({ role: "user", parts: [{ text: prompt }] });
          const payload = { contents: chatHistory };
          // ATENÇÃO: A chave de API abaixo é usada para acessar a Generative Language API.
          // Certifique-se de que a "Generative Language API" esteja ativada em seu projeto do Google Cloud.
          const apiKey = "AIzaSyD7ZEtHbcQj900M2Jd9ycesL26A5mRM9oI";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

          const response = await fetch(apiUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });
          const result = await response.json();

          if (
            result.candidates &&
            result.candidates.length > 0 &&
            result.candidates[0].content &&
            result.candidates[0].content.parts &&
            result.candidates[0].content.parts.length > 0
          ) {
            const aiResponse = result.candidates[0].content.parts[0].text;
            appendMessage(aiResponse, "ai");
          } else {
            console.error("Estrutura de resposta da IA inesperada:", result);
            appendMessage(
              "Desculpe, não consegui gerar uma resposta. A estrutura da resposta da IA foi inesperada.",
              "ai"
            );
          }
        } catch (error) {
          console.error("Erro ao chamar a API Gemini para chat:", error);
          appendMessage(
            "Ocorreu um erro ao conectar com o serviço de IA. Por favor, tente novamente.",
            "ai"
          );
        } finally {
          chatLoading.classList.add("hidden"); // Hide loading indicator
          sendChatBtn.disabled = false; // Re-enable send button
          chatWindow.scrollTop = chatWindow.scrollHeight; // Scroll to bottom
        }
      }

      function appendMessage(text, sender) {
        if (!chatWindow) return;
        const messageDiv = document.createElement("div");
        messageDiv.classList.add("chat-message", sender);
        messageDiv.textContent = text;
        chatWindow.appendChild(messageDiv);
        chatWindow.scrollTop = chatWindow.scrollHeight; // Scroll to the latest message
      }

      // --- CONTENT GENERATOR FUNCTIONS ---
      async function generateContent() {
        if (
          !contentPromptInput ||
          !generatedContentOutput ||
          !contentLoading ||
          !generateContentBtn
        ) {
          console.error(
            "Um ou mais elementos do gerador de conteúdo não foram encontrados."
          );
          return;
        }

        const userPrompt = contentPromptInput.value.trim();
        if (!userPrompt) {
          showMessageBox(
            "Prompt Vazio",
            "Por favor, digite um prompt para gerar conteúdo."
          );
          return;
        }

        generatedContentOutput.textContent = "[Gerando...]";
        contentLoading.classList.remove("hidden");
        generateContentBtn.disabled = true;

        const prompt = `Gere conteúdo criativo, um slogan, ou uma descrição curta para o projeto de criptomoeda LUNARO, que transforma a energia da atenção em valor real. O projeto tem um tema cyberpunk/dark-futurista, está nas blockchains Solana e TON, e envolve mineração, staking, recompensas gamificadas, NFTs co-criados pela comunidade e um futuro mini-jogo Web3. Use um tone futurista e engajador.

            Prompt do usuário: "${userPrompt}"`;

        try {
          let chatHistory = [];
          chatHistory.push({ role: "user", parts: [{ text: prompt }] });
          const payload = { contents: chatHistory };
          // ATENÇÃO: A chave de API abaixo é usada para acessar a Generative Language API.
          // Certifique-se de que a "Generative Language API" esteja ativada em seu projeto do Google Cloud.
          const apiKey = "AIzaSyD7ZEtHbcQj900M2Jd9ycesL26A5mRM9oI";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

          const response = await fetch(apiUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });
          const result = await response.json();

          if (
            result.candidates &&
            result.candidates.length > 0 &&
            result.candidates[0].content &&
            result.candidates[0].content.parts &&
            result.candidates[0].content.parts.length > 0
          ) {
            const generatedText = result.candidates[0].content.parts[0].text;
            generatedContentOutput.textContent = generatedText;
          } else {
            generatedContentOutput.textContent =
              "Erro ao gerar conteúdo. A estrutura da resposta da IA foi inesperada.";
            console.error(
              "Estrutura de resposta da IA inesperada para geração de conteúdo:",
              result
            );
          }
        } catch (error) {
          console.error(
            "Erro ao chamar a API Gemini para geração de conteúdo:",
            error
          );
          generatedContentOutput.textContent =
            "Ocorreu um erro ao gerar conteúdo. Por favor, tente novamente.";
        } finally {
          contentLoading.classList.add("hidden");
          generateContentBtn.disabled = false;
        }
      }

      // --- NFT GENERATION FUNCTIONS ---
      async function generateNftImage() {
        if (
          !nftLoading ||
          !generateNftBtn ||
          !generatedNftImage ||
          !nftDescription ||
          !cyberpunkThemeVotesDisplay ||
          !mysticalThemeVotesDisplay ||
          !galacticThemeVotesDisplay ||
          !pixelArtVotesDisplay ||
          !realisticArtVotesDisplay ||
          !abstractArtVotesDisplay ||
          !stakingUtilityVotesDisplay ||
          !eventUtilityVotesDisplay ||
          !gameUtilityVotesDisplay
        )
          return;

        nftLoading.classList.remove("hidden");
        generateNftBtn.disabled = true;
        generatedNftImage.src =
          "https://placehold.co/250x250/0d0d0d/0ff?text=Gerando..."; // Placeholder while loading
        nftDescription.textContent = "[Gerando descrição...]";

        // Determine the most voted theme, style, and utility for the prompt
        const themes = {
          cyberpunk: cyberpunkThemeVotes,
          mystical: mysticalThemeVotes,
          galactic: galacticThemeVotes,
        };
        const styles = {
          pixel: pixelArtVotes,
          realistic: realisticArtVotes,
          abstract: abstractArtVotes,
        };
        const utilities = {
          staking: stakingUtilityVotes,
          event: eventUtilityVotes,
          game: gameUtilityVotes,
        };

        const chosenTheme = Object.keys(themes).reduce((a, b) =>
          themes[a] > themes[b] ? a : b
        );
        const chosenStyle = Object.keys(styles).reduce((a, b) =>
          styles[a] > styles[b] ? a : b
        );
        const chosenUtility = Object.keys(utilities).reduce((a, b) =>
          utilities[a] > utilities[b] ? a : b
        );

        const promptText = `Generate a unique LUNARO NFT with a "${chosenTheme}" theme and "${chosenStyle}" art style. The NFT should represent the utility of "${chosenUtility}". Make it cyberpunk/dark-futuristic, incorporating elements of attention, moon, and digital value.`;

        // Generate image
        try {
          const payload = {
            instances: { prompt: promptText },
            parameters: { sampleCount: 1 },
          };
          // ATENÇÃO: A chave de API abaixo é usada para acessar a Generative Language API (modelo Imagen).
          // Certifique-se de que a "Generative Language API" esteja ativada em seu projeto do Google Cloud.
          const apiKey = "AIzaSyD7ZEtHbcQj900M2Jd9ycesL26A5mRM9oI";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${apiKey}`;

          const response = await fetch(apiUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });

          if (!response.ok) {
            const errorText = await response.text();
            throw new Error(
              `HTTP error! status: ${response.status}, message: ${errorText}`
            );
          }

          const result = await response.json();

          if (
            result.predictions &&
            result.predictions.length > 0 &&
            result.predictions[0].bytesBase64Encoded
          ) {
            const imageUrl = `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}`;
            generatedNftImage.src = imageUrl;

            // Generate description for the NFT
            const descriptionPrompt = `Crie uma descrição concisa e envolvente (máximo 50 palavras) para um NFT LUNARO com o tema "${chosenTheme}", estilo de arte "${chosenStyle}" e utilidade de "${chosenUtility}".`;
            let chatHistory = [];
            chatHistory.push({
              role: "user",
              parts: [{ text: descriptionPrompt }],
            });
            const descriptionPayload = { contents: chatHistory };
            // ATENÇÃO: A chave de API abaixo é usada para acessar a Generative Language API.
            // Certifique-se de que a "Generative Language API" esteja ativada em seu projeto do Google Cloud.
            const descriptionApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            const descriptionResponse = await fetch(descriptionApiUrl, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(descriptionPayload),
            });

            if (!descriptionResponse.ok) {
              const errorText = await descriptionResponse.text();
              throw new Error(
                `HTTP error! status: ${descriptionResponse.status}, message: ${errorText}`
              );
            }

            const descriptionResult = await descriptionResponse.json();

            if (
              descriptionResult.candidates &&
              descriptionResult.candidates.length > 0 &&
              descriptionResult.candidates[0].content &&
              descriptionResult.candidates[0].content.parts &&
              descriptionResult.candidates[0].content.parts.length > 0
            ) {
              nftDescription.textContent =
                descriptionResult.candidates[0].content.parts[0].text;
            } else {
              nftDescription.textContent =
                "Descrição do NFT não pôde ser gerada (resposta inesperada).";
              console.error(
                "Estrutura de resposta da IA inesperada para descrição do NFT:",
                descriptionResult
              );
            }
          } else {
            generatedNftImage.src =
              "https://placehold.co/250x250/0d0d0d/f00?text=Erro+NFT";
            nftDescription.textContent =
              "Erro ao gerar imagem do NFT (dados ausentes).";
            console.error(
              "Estrutura de resposta da IA para imagem inesperada:",
              result
            );
          }
        } catch (error) {
          console.error("Erro ao chamar a API Imagen para NFT:", error);
          generatedNftImage.src =
            "https://placehold.co/250x250/0d0d0d/f00?text=Erro+API";
          nftDescription.textContent = `Erro de conexão ao gerar NFT: ${error.message}`;
        } finally {
          nftLoading.classList.add("hidden");
          generateNftBtn.disabled = false;
        }
      }

      // --- INITIALIZATION ---
      window.onload = async () => {
        // Assign DOM elements here to ensure they are available
        connectWalletBtn = document.getElementById("connectWalletBtn");
        connectedWalletDisplay = document.getElementById(
          "connectedWalletDisplay"
        );
        walletSelectionModal = document.getElementById("walletSelectionModal");
        selectSolanaWalletBtn = document.getElementById(
          "selectSolanaWalletBtn"
        );
        selectTonWalletBtn = document.getElementById("selectTonWalletBtn");
        selectMetamaskWalletBtn = document.getElementById(
          "selectMetamaskWalletBtn"
        );

        walletStatus = document.getElementById("walletStatus");
        connectedWalletAddressDisplay = document.getElementById(
          "connectedWalletAddressDisplay"
        ); // Corrected ID

        progressBarFill = document.getElementById("progressBarFill");
        raisedAmountDisplay = document.getElementById("raisedAmount");
        tokensRemainingDisplay = document.getElementById("tokensRemaining");
        countdownElement = document.getElementById("countdown");
        daysElement = document.getElementById("days");
        hoursElement = document.getElementById("hours");
        minutesElement = document.getElementById("minutes");
        secondsElement = document.getElementById("seconds");
        messageBox = document.getElementById("messageBox");
        messageBoxTitle = document.getElementById("messageBoxTitle");
        messageBoxContent = document.getElementById("messageBoxContent");

        buyWithWalletBtn = document.getElementById("buyWithWalletBtn");
        buyWithPixBtn = document.getElementById("buyWithPixBtn");
        buyWithCardBtn = document.getElementById("buyWithCardBtn");

        paymentMethodModal = document.getElementById("paymentMethodModal");
        purchaseModal = document.getElementById("purchaseModal");
        pixPaymentModal = document.getElementById("pixPaymentModal");
        stripePaymentModal = document.getElementById("stripePaymentModal");

        modalWalletAddress = document.getElementById("modalWalletAddress");
        purchaseAmountInput = document.getElementById("purchaseAmount");
        receivedLNRDisplay = document.getElementById("receivedLNR");

        pixKey = document.getElementById("pixKey");
        pixAmountBRLInput = document.getElementById("pixAmountBRL");
        receivedLNRFromPixDisplay =
          document.getElementById("receivedLNRFromPix");
        pixSolanaAddressInput = document.getElementById("pixSolanaAddress");

        cardNameInput = document.getElementById("cardName");
        cardNumberInput = document.getElementById("cardNumber");
        cardExpiryInput = document.getElementById("cardExpiry");
        cardCVCInput = document.getElementById("cardCVC");
        cardAmountUSDInput = document.getElementById("cardAmountUSD");
        receivedLNRFromCardDisplay = document.getElementById(
          "receivedLNRFromCard"
        );
        cardSolanaAddressInput = document.getElementById("cardSolanaAddress");

        socialWalletArea = document.getElementById("socialWalletArea");
        socialWalletAddressDisplay = document.getElementById(
          "socialWalletAddress"
        );
        socialWalletBalanceDisplay = document.getElementById(
          "socialWalletBalance"
        );
        recipientAddressInput = document.getElementById("recipientAddress");
        sendAmountInput = document.getElementById("sendAmount");

        chatWindow = document.getElementById("chatWindow");
        chatInput = document.getElementById("chatInput");
        sendChatBtn = document.getElementById("sendChatBtn");
        chatLoading = document.getElementById("chatLoading");

        newsletterForm = document.getElementById("newsletterForm");
        newsletterEmailInput = document.getElementById("newsletterEmail");
        newsletterMessage = document.getElementById("newsletterMessage");

        faqItems = document.querySelectorAll(".faq-item");

        voteRaydiumBtn = document.getElementById("voteRaydium");
        voteMeteoraBtn = document.getElementById("voteMeteora");
        voteResultDisplay = document.getElementById("voteResult");
        raydiumVotesDisplay = document.getElementById("raydiumVotes");
        meteoraVotesDisplay = document.getElementById("meteoraVotes");

        voteThemeCyberpunkBtn = document.getElementById("voteThemeCyberpunk");
        voteThemeMysticalBtn = document.getElementById("voteThemeMystical");
        voteThemeGalacticBtn = document.getElementById("voteThemeGalactic");
        nftThemeVoteResult = document.getElementById("nftThemeVoteResult");
        cyberpunkThemeVotesDisplay = document.getElementById(
          "cyberpunkThemeVotes"
        );
        mysticalThemeVotesDisplay =
          document.getElementById("mysticalThemeVotes");
        galacticThemeVotesDisplay =
          document.getElementById("galacticThemeVotes");

        voteArtPixelBtn = document.getElementById("voteArtPixel");
        voteArtRealisticBtn = document.getElementById("voteArtRealistic");
        voteArtAbstractBtn = document.getElementById("voteArtAbstract");
        nftArtStyleVoteResult = document.getElementById(
          "nftArtStyleVoteResult"
        );
        pixelArtVotesDisplay = document.getElementById("pixelArtVotes");
        realisticArtVotesDisplay = document.getElementById("realisticArtVotes");
        abstractArtVotesDisplay = document.getElementById("abstractArtVotes");

        voteUtilityStakingBtn = document.getElementById("voteUtilityStaking");
        voteUtilityEventBtn = document.getElementById("voteUtilityEvent");
        voteUtilityGameBtn = document.getElementById("voteUtilityGame");
        nftUtilityVoteResult = document.getElementById("nftUtilityVoteResult");
        stakingUtilityVotesDisplay = document.getElementById(
          "stakingUtilityVotes"
        );
        eventUtilityVotesDisplay = document.getElementById("eventUtilityVotes");
        gameUtilityVotesDisplay = document.getElementById("gameUtilityVotes");

        voteGameArcadeBtn = document.getElementById("voteGameArcade");
        voteGameStrategyBtn = document.getElementById("voteGameStrategy");
        voteGameAdventureBtn = document.getElementById("voteGameAdventure");
        gameStyleVoteResult = document.getElementById("gameStyleVoteResult");
        arcadeGameVotesDisplay = document.getElementById("arcadeGameVotes");
        strategyGameVotesDisplay = document.getElementById("strategyGameVotes");
        adventureGameVotesDisplay =
          document.getElementById("adventureGameVotes");

        contentPromptInput = document.getElementById("contentPrompt");
        generateContentBtn = document.getElementById("generateContentBtn");
        contentLoading = document.getElementById("contentLoading");
        generatedContentOutput = document.getElementById(
          "generatedContentOutput"
        );

        generateNftBtn = document.getElementById("generateNftBtn");
        generatedNftImage = document.getElementById("generatedNftImage");
        nftDescription = document.getElementById("nftDescription");
        nftLoading = document.getElementById("nftLoading");

        catEmojiContainer = document.getElementById("catEmojiContainer");
        catEmoji = document.getElementById("catEmoji");

        // Set up all event listeners that depend on DOM elements being present
        if (connectWalletBtn)
          connectWalletBtn.addEventListener("click", showWalletSelectionModal);
        if (selectSolanaWalletBtn)
          selectSolanaWalletBtn.addEventListener(
            "click",
            connectSolanaWalletActual
          );
        if (selectTonWalletBtn)
          selectTonWalletBtn.addEventListener("click", connectTonWalletActual);
        if (selectMetamaskWalletBtn)
          selectMetamaskWalletBtn.addEventListener(
            "click",
            connectMetamaskWalletActual
          );

        if (sendChatBtn)
          sendChatBtn.addEventListener("click", sendQuestionToAI);
        if (chatInput)
          chatInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter" && !e.shiftKey) {
              e.preventDefault();
              sendQuestionToAI();
            }
          });

        if (buyWithWalletBtn)
          buyWithWalletBtn.addEventListener("click", showPaymentMethodModal); // Changed to show payment method modal first
        if (buyWithPixBtn)
          buyWithPixBtn.addEventListener("click", showPixPaymentModal);
        if (buyWithCardBtn)
          buyWithCardBtn.addEventListener("click", showStripePaymentModal);

        // Smooth scroll for "PARTICIPAR DA PRÉ-VENDAS!" button
        const participateHeroBtn = document.querySelector("#hero .neon-button");
        if (participateHeroBtn) {
          participateHeroBtn.addEventListener("click", (e) => {
            e.preventDefault();
            document
              .querySelector(e.target.getAttribute("href"))
              .scrollIntoView({
                behavior: "smooth",
              });
          });
        }

        if (purchaseAmountInput)
          purchaseAmountInput.addEventListener("input", updateReceivedLNR);
        if (pixAmountBRLInput)
          pixAmountBRLInput.addEventListener("input", () => {
            const amountBRL = parseFloat(pixAmountBRLInput.value);
            if (isNaN(amountBRL) || amountBRL <= 0) {
              if (receivedLNRFromPixDisplay)
                receivedLNRFromPixDisplay.textContent = "0 LNR";
              return;
            }
            const lnrReceived = amountBRL / 5.0 / LNR_PRICE_USD;
            if (receivedLNRFromPixDisplay)
              receivedLNRFromPixDisplay.textContent = `${lnrReceived.toLocaleString(
                undefined,
                { maximumFractionDigits: 2 }
              )} LNR`;
          });
        if (cardAmountUSDInput)
          cardAmountUSDInput.addEventListener("input", () => {
            const amountUSD = parseFloat(cardAmountUSDInput.value);
            if (isNaN(amountUSD) || amountUSD <= 0) {
              if (receivedLNRFromCardDisplay)
                receivedLNRFromCardDisplay.textContent = "0 LNR";
              return;
            }
            const lnrReceived = amountUSD / LNR_PRICE_USD;
            if (receivedLNRFromCardDisplay)
              receivedLNRFromCardDisplay.textContent = `${lnrReceived.toLocaleString(
                undefined,
                { maximumFractionDigits: 2 }
              )} LNR`;
          });

        if (voteRaydiumBtn)
          voteRaydiumBtn.addEventListener("click", () => {
            raydiumVotes++;
            updateDexVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para Raydium foi registrado!"
            );
          });

        if (voteMeteoraBtn)
          voteMeteoraBtn.addEventListener("click", () => {
            meteoraVotes++;
            updateDexVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para Meteora foi registrado!"
            );
          });

        if (voteThemeCyberpunkBtn)
          voteThemeCyberpunkBtn.addEventListener("click", () => {
            cyberpunkThemeVotes++;
            updateNftThemeVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o tema Cyberpunk foi registrado!"
            );
          });
        if (voteThemeMysticalBtn)
          voteThemeMysticalBtn.addEventListener("click", () => {
            mysticalThemeVotes++;
            updateNftThemeVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o tema Floresta Mística foi registrado!"
            );
          });
        if (voteThemeGalacticBtn)
          voteThemeGalacticBtn.addEventListener("click", () => {
            galacticThemeVotes++;
            updateNftThemeVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o tema Anomalia Galáctica foi registrado!"
            );
          });

        if (voteArtPixelBtn)
          voteArtPixelBtn.addEventListener("click", () => {
            pixelArtVotes++;
            updateNftArtStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Pixel Art foi registrado!"
            );
          });
        if (voteArtRealisticBtn)
          voteArtRealisticBtn.addEventListener("click", () => {
            realisticArtVotes++;
            updateNftArtStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Sci-Fi Realista foi registrado!"
            );
          });
        if (voteArtAbstractBtn)
          voteArtAbstractBtn.addEventListener("click", () => {
            abstractArtVotes++;
            updateNftArtStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Neon Abstrato foi registrado!"
            );
          });

        if (voteUtilityStakingBtn)
          voteUtilityStakingBtn.addEventListener("click", () => {
            stakingUtilityVotes++;
            updateNftUtilityVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para a utilidade de Bônus de Staking foi registrado!"
            );
          });
        if (voteUtilityEventBtn)
          voteUtilityEventBtn.addEventListener("click", () => {
            eventUtilityVotes++;
            updateNftUtilityVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para a utilidade de Acesso a Eventos Exclusivos foi registrado!"
            );
          });
        if (voteUtilityGameBtn)
          voteUtilityGameBtn.addEventListener("click", () => {
            gameUtilityVotes++;
            updateNftUtilityVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para a utilidade de Vantagens no Jogo foi registrado!"
            );
          });

        if (voteGameArcadeBtn)
          voteGameArcadeBtn.addEventListener("click", () => {
            arcadeGameVotes++;
            updateGameStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Arcade Clássico foi registrado!"
            );
          });
        if (voteGameStrategyBtn)
          voteGameStrategyBtn.addEventListener("click", () => {
            strategyGameVotes++;
            updateGameStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Estratégia Tática foi registrado!"
            );
          });
        if (voteGameAdventureBtn)
          voteGameAdventureBtn.addEventListener("click", () => {
            adventureGameVotes++;
            updateGameStyleVotesUI();
            showMessageBox(
              "Voto Registrado",
              "Seu voto para o estilo Aventura Narrativa foi registrado!"
            );
          });

        if (generateContentBtn)
          generateContentBtn.addEventListener("click", generateContent);
        if (generateNftBtn)
          generateNftBtn.addEventListener("click", generateNftImage);

        if (newsletterForm)
          newsletterForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const email = newsletterEmailInput.value;
            if (email) {
              newsletterMessage.textContent = `Obrigado por assinar, ${email}! Você receberá as últimas notícias do LUNARO.`;
              newsletterMessage.className = "text-sm mt-4 text-neon-green";
              newsletterMessage.classList.remove("hidden");
              newsletterEmailInput.value = "";
            } else {
              newsletterMessage.textContent =
                "Por favor, insira um endereço de e-mail válido.";
              newsletterMessage.className = "text-sm mt-4 text-red-alert";
              newsletterMessage.classList.remove("hidden");
            }
          });

        if (faqItems)
          faqItems.forEach((item) => {
            const question = item.querySelector(".faq-question");
            const answer = item.querySelector(".faq-answer");
            const icon = question.querySelector("i");

            if (question) {
              question.addEventListener("click", () => {
                const isOpen = answer.classList.contains("open");

                faqItems.forEach((otherItem) => {
                  const otherAnswer = otherItem.querySelector(".faq-answer");
                  const otherQuestion =
                    otherItem.querySelector(".faq-question");
                  const otherIcon = otherItem.querySelector("i");
                  if (
                    otherAnswer &&
                    otherAnswer !== answer &&
                    otherAnswer.classList.contains("open")
                  ) {
                    otherAnswer.style.maxHeight = null;
                    otherAnswer.classList.remove("open");
                    if (otherQuestion) otherQuestion.classList.remove("active");
                    if (otherIcon) {
                      otherIcon.classList.remove("fa-chevron-up");
                      otherIcon.classList.add("fa-chevron-down");
                    }
                  }
                });

                if (isOpen) {
                  if (answer) answer.style.maxHeight = null;
                  if (answer) answer.classList.remove("open");
                  if (question) question.classList.remove("active");
                  if (icon) {
                    icon.classList.remove("fa-chevron-up");
                    icon.classList.add("fa-chevron-down");
                  }
                } else {
                  if (answer) {
                    answer.classList.add("open");
                    answer.style.maxHeight = answer.scrollHeight + "px";
                  }
                  if (question) question.classList.add("active");
                  if (icon) {
                    icon.classList.remove("fa-chevron-down");
                    icon.classList.add("fa-chevron-up");
                  }
                }
              });
            }
          });

        // Solana wallet auto-connect/listener setup
        if (isSolanaWalletInstalled()) {
          if (window.solana.isConnected) {
            connectedWalletAddress = window.solana.publicKey.toBase58();
            connectedWalletType = "solana";
            updateWalletUI();
          }
          window.solana.on("accountChanged", (publicKey) => {
            if (publicKey) {
              connectedWalletAddress = publicKey.toBase58();
              connectedWalletType = "solana";
              updateWalletUI();
              console.log("Solana account changed to:", publicKey);
            } else {
              disconnectWallet(); // User disconnected from Solana wallet
              console.log("Solana wallet disconnected via wallet UI.");
            }
          });
          window.solana.on("disconnect", () => {
            disconnectWallet();
            console.log("Solana wallet disconnected by user.");
          });
        }

        // TON wallet auto-connect/listener setup (simplified)
        if (isTonWalletInstalled()) {
          // No auto-connect for TON in this simulation, user clicks button
        }

        // MetaMask (EVM) wallet listener setup
        if (isMetamaskInstalled()) {
          window.ethereum.on("accountsChanged", (accounts) => {
            if (accounts.length > 0) {
              connectedWalletAddress = accounts[0];
              connectedWalletType = "metamask";
              updateWalletUI();
              console.log("MetaMask account changed:", accounts[0]);
            } else {
              disconnectWallet();
              console.log("MetaMask disconnected.");
            }
          });
        }

        // Initial update for presale progress and countdown
        updatePresaleProgress();
        // Move the setInterval call here
        presaleProgressIntervalId = setInterval(() => {
          if (raisedAmountInLamports < MAX_CAP_SOL_IN_LAMPARTS) {
            // Corrected variable name
            const increaseSol = Math.random() * 500 + 10; // Simulate random SOL purchases (e.g., 10 to 510 SOL)
            const increaseLamports = increaseSol * LAMPORTS_PER_SOL;
            raisedAmountInLamports = Math.min(
              MAX_CAP_SOL_IN_LAMPARTS,
              raisedAmountInLamports + increaseLamports
            ); // Corrected variable name
            tokensSold =
              (raisedAmountInLamports / LAMPORTS_PER_SOL) * TOKENS_PER_SOL;
            updatePresaleProgress();
          } else {
            clearInterval(presaleProgressIntervalId); // Stop interval once cap is reached
          }
        }, 3000); // Update every 3 seconds

        countdownIntervalId = setInterval(updateCountdown, 1000);
        updateCountdown();

        // Initialize UI components that depend on global state
        updateSocialWalletUI();
        updateDexVotesUI();
        updateNftThemeVotesUI();
        updateNftArtStyleVotesUI();
        updateNftUtilityVotesUI();
        updateGameStyleVotesUI();
      };
    </script>
  </body>
</html>
